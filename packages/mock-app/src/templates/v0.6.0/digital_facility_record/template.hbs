<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap" rel="stylesheet">
  <title>Digital Facility Record</title>
  <style>
    :root {
      /* Brand Colors */
      --color-primary: rgba(35, 46, 61, 1); /* Headers, titles; Default: rgba(35, 46, 61, 1) */
      --color-secondary: rgba(31, 90, 149, 1); /* Evidence titles; Default: rgba(31, 90, 149, 1) */

      /* Neutrals */
      --color-white: rgba(255, 255, 255, 1); /* Text, backgrounds; Default: rgba(255, 255, 255, 1) */
      --color-black: rgba(0, 0, 0, 1); /* Text; Default: rgba(0, 0, 0, 1) */
      --color-gray-700: rgba(35, 46, 61, 1); /* Text, matches primary; Default: rgba(35, 46, 61, 1) */
      --color-gray-600: rgba(85, 96, 110, 1); /* Backgrounds, text; Default: rgba(85, 96, 110, 1) */
      --color-gray-500: rgba(169, 177, 183, 1); /* Borders; Default: rgba(169, 177, 183, 1) */
      --color-gray-400: rgba(212, 214, 216, 1); /* Borders; Default: rgba(212, 214, 216, 1) */
      --color-gray-300: rgba(237, 239, 240, 1); /* Backgrounds, text; Default: rgba(237, 239, 240, 1) */

      /* Semantic (Functional) Colors */
      --color-success-bg: rgba(184, 236, 182, 1); /* Success badge background; Default: rgba(184, 236, 182, 1) */
      --color-success-text: rgba(8, 50, 0, 1); /* Success badge text; Default: rgba(8, 50, 0, 1) */
      --color-error-bg: rgba(255, 188, 183, 1); /* Error badge background; Default: rgba(255, 188, 183, 1) */
      --color-error-text: rgba(50, 0, 0, 1); /* Error badge text; Default: rgba(50, 0, 0, 1) */
      --color-link-underline-dark: rgba(79, 149, 221, 1); /* Link underlines; Default: rgba(79, 149, 221, 1) */
      --color-link-underline-light: rgba(148, 196, 245, 1); /* Link underlines; Default: rgba(148, 196, 245, 1) */
      --color-icon: #1F5A95; /* SVG fill, stroke; Default: #1F5A95 */

      /* Font Variables */
      --font-family: "Lato", sans-serif; /* All text; Default: Lato font */

      /* Font Weight Variables */
      --font-weight-regular: 400; /* Standard text; Default: 400 */
      --font-weight-medium: 500; /* Titles, emphasized text; Default: 500 */
      --font-weight-semi-bold: 600; /* Badges; Default: 600 */
      --font-weight-bold: 700; /* Headings; Default: 700 */
      --font-weight-black: 900; /* Main titles; Default: 900 */
    }

    /* Globals CSS */
    * {
      margin: 0;
      box-sizing: border-box;
    }

    body {
      font-family: var(--font-family);
    }

    section {
      padding: 0 16px 0 16px;
    }

    a {
      text-decoration: none;
    }

    .facility-record {
      width: 100%;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 32px;
    }

    .facility-record-header {
      display: flex;
      flex-direction: column;
      width: 100%;
      align-items: center;
    }

    .facility-header {
      display: flex;
      flex-direction: column;
      width: 100%;
      align-items: flex-start;
      gap: 12px;
      padding: 32px 16px 20px 16px;
      background-color: var(--color-primary);
    }

    .facility-record .facility-title {
      width: 100%;
      font-weight: var(--font-weight-medium);
      color: var(--color-white);
      font-size: 16px;
      line-height: 22px;
      text-transform: uppercase;
    }

    .facility-record .name-description {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .facility-record .name-description h1 {
      font-weight: var(--font-weight-black);
      color: var(--color-white);
      font-size: 30px;
      line-height: 32.5px;
    }

    .facility-record .name-description p {
      font-weight: var(--font-weight-medium);
      color: var(--color-white);
      font-size: 16px;
      line-height: 17.4px;
    }

    .facility-record .facility-details-section {
      padding: 0px 16px 16px;
      align-self: stretch;
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 4px;
      background-color: var(--color-gray-600);
    }

    .facility-record .grid-row {
      display: grid;
      grid-template-columns: 1fr 2fr;
      gap: 16px;
      padding: 10px 0px 12px;
      width: 100%;
      border-bottom-width: 1px;
      border-bottom-style: solid;
    }

    .facility-record .grid-row:last-child {
      border-bottom: none;
    }

    .facility-record .declarations {
      display: flex;
      flex-direction: column;
      gap: 12px;
      padding: 0px 16px;
      width: 100%;
    }

    .facility-record .declaration-title {
      font-size: 20px;
      font-weight: var(--font-weight-bold);
      line-height: 21.8px;
      color: var(--color-gray-700);
    }

    .facility-record .conformities-list {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .facility-record .conformity-card {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 8px;
      min-width: 336px;
      padding: 16px 18px 16px 16px;
      position: relative;
      background-color: var(--color-white);
      border-radius: 4px;
      border: 1px solid;
      border-color: var(--color-gray-400);
    }

    .facility-record .conformance-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      position: relative;
      align-self: stretch;
      width: 100%;
      flex: 0 0 auto;
    }

    .facility-record .conformance-status {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      position: relative;
      flex: 0 0 auto;
    }

    .facility-record .conformance-label {
      position: relative;
      width: fit-content;
      font-weight: var(--font-weight-regular);
      color: var(--color-gray-600);
      font-size: 14px;
      line-height: 19.2px;
    }

    .facility-record .tags-VC-badge-red {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      padding: 4px 8px;
      flex: 0 0 auto;
      background-color: var(--color-error-bg);
      color: var(--color-error-text);
      border-radius: 8px;
      overflow: hidden;
    }

    .facility-record .tags-VC-badge-green {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      padding: 4px 8px;
      flex: 0 0 auto;
      background-color: var(--color-success-bg);
      color: var(--color-success-text);
      border-radius: 8px;
      overflow: hidden;
    }

    .facility-record .verifiable {
      width: fit-content;
      font-weight: var(--font-weight-semi-bold);
      font-size: 14px;
      line-height: 15.3px;
    }

    .facility-record .evidence-details {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      position: relative;
      align-self: stretch;
      width: 100%;
      flex: 0 0 auto;
    }

    .facility-record .facility-name {
      position: relative;
      align-self: stretch;
      margin-top: -1px;
      font-weight: var(--font-weight-regular);
      color: var(--color-secondary);
      font-size: 18px;
      line-height: 21.2px;
    }

    .facility-record .regulation-details {
      color: var(--color-gray-600);
      font-size: 14px;
      line-height: 19.2px;
      align-self: stretch;
      font-weight: var(--font-weight-regular);
    }

    .facility-record .regulation-details-text {
      font-weight: var(--font-weight-regular);
      font-size: 14px;
      line-height: 19.2px;
    }

    .facility-record .regulation-link {
      color: var(--color-gray-600);
    }

    .facility-record .gray-bottom-line {
      border-bottom: 1px var(--color-gray-600) solid;
      width: fit-content;
      text-decoration: none;
    }

    .facility-record .metrics-list {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      justify-content: flex-end;
      gap: 8px;
      align-self: stretch;
      width: 100%;
    }

    .facility-record .metric-item {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 8px;
      flex: 1;
      flex-grow: 1;
    }

    .facility-record .typography-heading {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .facility-record .metric-value {
      flex: 1;
      color: var(--color-gray-700);
      font-size: 16px;
      font-weight: var(--font-weight-regular);
      line-height: 17.44px;
    }

    .facility-record .metric-score {
      flex: 1;
      font-weight: var(--font-weight-regular);
      color: var(--color-gray-600);
      font-size: 14px;
      line-height: 19.2px;
    }

    .facility-record .evidence-link-container {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 8px 0px;
      position: relative;
      align-self: stretch;
      width: 100%;
      flex: 0 0 auto;
      border-radius: 4px;
    }

    .facility-record .evidence-link {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      position: relative;
      flex: 0 0 auto;
    }

    .facility-record .evidence-label-wrapper {
      display: flex;
      flex-direction: column;
      width: 260px;
      align-items: flex-start;
      gap: 4px;
    }

    .facility-record .evidence-text {
      color: var(--color-black);
      font-size: 16px;
      line-height: 17.4px;
      align-self: stretch;
      font-weight: var(--font-weight-regular);
    }

    .facility-record .issuing-details {
      width: 100%;
      padding: 24px 16px 36px;
      background-color: var(--color-gray-300);
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 4px;
    }

    .facility-record .typography-heading {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .facility-record .issuing-title {
      width: fit-content;
      font-weight: var(--font-weight-bold);
      color: var(--color-black);
      font-size: 20px;
      line-height: 21.8px;
    }

    .facility-record .facility-details {
      display: inline-flex;
      flex-direction: column;
      align-items: flex-start;
      width: 100%;
    }

    .facility-record .grid-row-alt {
      display: grid;
      grid-template-columns: 1.4fr 3fr;
      gap: 16px;
      padding: 10px 0px 12px;
      width: 100%;
      border-bottom-width: 1px;
      border-bottom-style: solid;
    }

    .facility-record .border-bottom-gray-400 {
      border-color: var(--color-gray-400);
    }

    .facility-record .border-bottom-gray-500 {
      border-color: var(--color-gray-500);
    }

    .facility-record .label {
      font-weight: var(--font-weight-regular);
      color: var(--color-gray-300);
      font-size: 16px;
      line-height: 22px;
    }

    .facility-record .label-alt {
      font-weight: var(--font-weight-regular);
      color: var(--color-gray-600);
      font-size: 16px;
      line-height: 22px;
    }

    .facility-record .grid-value-link {
      flex-direction: column;
      align-items: flex-start;
      gap: 6px;
      align-self: stretch;
      display: flex;
      flex: 1;
      flex-grow: 1;
    }

    .facility-record .div-wrapper {
      gap: 10px;
      display: inline-flex;
      align-items: flex-start;
      text-decoration: underline;
      text-decoration-thickness: 2px;
      text-decoration-color: var(--color-link-underline-dark);
      text-underline-offset: 3px;
    }

    .facility-record .map-link {
      display: inline-flex;
      align-items: flex-start;
      gap: 10px;
      border-bottom-width: 2px;
      border-bottom-style: solid;
      border-color: var(--color-link-underline-light);
    }

    .facility-record .map-link-text {
      width: fit-content;
      font-weight: var(--font-weight-medium);
      color: var(--color-white);
      font-size: 16px;
      line-height: 17.4px;
    }

    .facility-record .issuer-link {
      width: fit-content;
      font-weight: var(--font-weight-medium);
      color: var(--color-gray-700);
      font-size: 16px;
      line-height: 22px;
    }

    .facility-record .map-link-wrapper {
      display: inline-flex;
      align-items: flex-start;
      gap: 10px;
      border-bottom-width: 2px;
      border-bottom-style: solid;
      border-color: var(--color-link-underline-dark);
    }

    .facility-record .grid-value {
      display: flex;
      align-items: center;
      gap: 10px;
      align-self: stretch;
      flex-grow: 1;
      flex: 1;
    }

    .facility-record .grid-value-list {
      display: flex;
      flex-wrap: wrap;
      row-gap: 4px;
      max-width: 100%;
    }

    .facility-record .grid-value-list a {
      margin-right: 10px;
    }

    .facility-record .grid-value-text {
      flex: 1;
      font-weight: var(--font-weight-medium);
      color: var(--color-white);
      font-size: 16px;
      line-height: 17.4px;
    }

    .facility-record .grid-value-text-alt {
      font-weight: var(--font-weight-medium);
      color: var(--color-gray-700);
      font-size: 16px;
      line-height: 17.4px;
      flex: 1;
    }

    .blue-bottom-line-2,
    .blue-bottom-line-2:link {
      width: fit-content;
      color: var(--color-white);
      text-decoration: underline;
      text-decoration-thickness: 2px;
      text-decoration-color: var(--color-link-underline-light);
      text-underline-offset: 3px;
    }

    .white-text {
      color: var(--color-white);
    }

    /* Media Queries for Desktops */
    @media (min-width: 1200px) {
      .facility-record {
        max-width: 1200px;
      }
    }
  </style>
</head>

<body>
  <div class="facility-record">
    <div class="facility-record-header">
      <header class="facility-header">
        <div class="facility-title">FACILITY RECORD</div>
        <div class="name-description">
          <h1>{{credentialSubject.facility.name}}</h1>
          {{#if credentialSubject.facility.description}}
            <p>{{credentialSubject.facility.description}}</p>
          {{/if}}
        </div>
      </header>
      <section class="facility-details-section">
        <div class="facility-details">
          {{#if credentialSubject.facility.operatedByParty}}
            <div class="grid-row border-bottom-gray-500">
              <div class="label">Operator</div>
              <div class="grid-value">
                <a href="{{credentialSubject.facility.operatedByParty.id}}"
                   class="blue-bottom-line-2"
                   aria-label="Visit {{credentialSubject.facility.operatedByParty.name}}">{{credentialSubject.facility.operatedByParty.name}}</a>
              </div>
            </div>
          {{/if}}
          {{#if credentialSubject.facility.countryOfOperation}}
            <div class="grid-row border-bottom-gray-500">
              <div class="label">Country</div>
              <div class="grid-value">
                <div class="grid-value-text">{{credentialSubject.facility.countryOfOperation}}</div>
              </div>
            </div>
          {{/if}}
          {{#if credentialSubject.facility.address}}
            <div class="grid-row border-bottom-gray-500">
              <div class="label">Address</div>
              <div class="grid-value">
                {{#if credentialSubject.facility.locationInformation.plusCode}}
                  <a href="{{credentialSubject.facility.locationInformation.plusCode}}"
                     class="blue-bottom-line-2"
                     aria-label="View {{credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.addressLocality}} on map"
                     target="_blank">
                    {{#if credentialSubject.facility.address.streetAddress}}
                      {{credentialSubject.facility.address.streetAddress}}
                    {{/if}}
                    {{#if credentialSubject.facility.address.addressLocality}}
                      {{credentialSubject.facility.address.addressLocality}}
                    {{/if}}
                    {{#if credentialSubject.facility.address.addressRegion}}
                      {{credentialSubject.facility.address.addressRegion}}
                    {{/if}}
                    {{#if credentialSubject.facility.address.postalCode}}
                      {{credentialSubject.facility.address.postalCode}}
                    {{/if}}
                  </a>
                {{else}}
                  <span class="white-text">
                    {{#if credentialSubject.facility.address.streetAddress}}
                      {{credentialSubject.facility.address.streetAddress}}
                    {{/if}}
                    {{#if credentialSubject.facility.address.addressLocality}}
                      {{credentialSubject.facility.address.addressLocality}}
                    {{/if}}
                    {{#if credentialSubject.facility.address.addressRegion}}
                      {{credentialSubject.facility.address.addressRegion}}
                    {{/if}}
                    {{#if credentialSubject.facility.address.postalCode}}
                      {{credentialSubject.facility.address.postalCode}}
                    {{/if}}
                  </span>
                {{/if}}
              </div>
            </div>
          {{/if}}
          {{#if credentialSubject.facility.processCategory}}
            <div class="grid-row border-bottom-gray-500">
              <div class="label">Processes</div>
              <div class="grid-value">
                <div class="grid-value-list">
                  {{#each credentialSubject.facility.processCategory}}
                    <a href="{{id}}"
                       class="blue-bottom-line-2"
                       aria-label="Visit {{name}}">{{name}}</a>
                  {{/each}}
                </div>
              </div>
            </div>
          {{/if}}
          {{#if credentialSubject.facility.locationInformation}}
            {{#if credentialSubject.facility.locationInformation.geoLocation}}
              {{#if credentialSubject.facility.locationInformation.geoLocation.coordinates}}
                <div class="grid-row border-bottom-gray-500">
                  <div class="label">Geolocation</div>
                  <a href="https://www.google.com/maps?q={{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 1}},{{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 0}}"
                     class="grid-value-link"
                     aria-label="View geolocation on map"
                     target="_blank">
                    <div class="map-link-wrapper">
                      <div class="map-link-text">Show on map</div>
                    </div>
                  </a>
                </div>
              {{/if}}
            {{/if}}
          {{/if}}
        </div>
      </section>
    </div>

    {{#if credentialSubject.conformityClaim}}
      <section class="declarations">
        <h2 class="declaration-title">Declarations</h2>
        <div class="conformities-list">
          {{#each credentialSubject.conformityClaim}}
            <article class="conformity-card">
              <header class="conformance-header">
                <div class="conformance-status">
                  <div class="conformance-label">Conformance:</div>
                  <div class="{{#if conformance}}tags-VC-badge-green{{else}}tags-VC-badge-red{{/if}}">
                    <div class="verifiable">{{#if conformance}}Yes{{else}}No{{/if}}</div>
                  </div>
                </div>
                {{#if assessmentDate}}
                  <div class="conformance-label">Assessed: {{assessmentDate}}</div>
                {{/if}}
              </header>
              <div class="evidence-details">
                {{#if conformityEvidence}}
                  {{#if conformityEvidence.linkName}}
                    <div class="facility-name">{{conformityEvidence.linkName}}</div>
                  {{/if}}
                {{/if}}
                {{#if referenceRegulation}}
                  <p class="regulation-details">
                    <span class="regulation-details-text">
                      {{#if referenceRegulation.name}}
                        {{referenceRegulation.name}}
                      {{/if}}
                      {{#if referenceRegulation.jurisdictionCountry}}
                        administered in {{referenceRegulation.jurisdictionCountry}}
                      {{/if}}
                      by
                    </span>
                    <a href="{{referenceRegulation.administeredBy.id}}"
                       class="regulation-link gray-bottom-line"
                       aria-label="Visit {{referenceRegulation.administeredBy.name}}">{{referenceRegulation.administeredBy.name}}</a>
                  </p>
                {{/if}}
                {{#if referenceStandard}}
                <p class="regulation-details">
                  <span class="regulation-details-text">
                    {{#if referenceStandard.name}}
                      {{referenceStandard.name}} issued by
                    {{else}}
                      Issued by
                    {{/if}}
                  </span>
                  <a href="{{referenceStandard.issuingParty.id}}"
                    class="regulation-link gray-bottom-line"
                    aria-label="Visit {{referenceStandard.issuingParty.name}}">
                    {{referenceStandard.issuingParty.name}}
                  </a>
                </p>
              {{/if}}
              </div>
              {{#if declaredValue}}
                <div class="metrics-list">
                  {{#each declaredValue}}
                    <div class="metric-item">
                      <div class="typography-heading">
                        <p class="metric-value">{{metricName}} is {{metricValue.value}}{{metricValue.unit}}</p>
                      </div>
                      {{#if score}}
                        <div class="typography-heading">
                          <p class="metric-score">
                            Score: {{score}}
                            {{#if accuracy}}
                              | Accuracy {{accuracy}}
                            {{/if}}
                          </p>
                        </div>
                      {{else}}
                        {{#if accuracy}}
                          <div class="typography-heading">
                            <p class="metric-score">
                              Accuracy {{accuracy}}
                            </p>
                          </div>
                        {{/if}}
                      {{/if}}
                    </div>
                  {{/each}}
                </div>
              {{/if}}
              {{#if conformityEvidence}}
                {{#if conformityEvidence.linkURL}}
                  <a href="{{conformityEvidence.linkURL}}"
                     class="evidence-link-container"
                     aria-label="View evidence for {{referenceRegulation.name}} {{referenceStandard.name}}">
                    <div class="evidence-link">
                      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M5 21C4.45 21 3.97933 20.8043 3.588 20.413C3.19667 20.0217 3.00067 19.5507 3 19V5C3 4.45 3.196 3.97933 3.588 3.588C3.98 3.19667 4.45067 3.00067 5 3H19C19.55 3 20.021 3.196 20.413 3.588C20.805 3.98 21.0007 4.45067 21 5V19C21 19.55 20.8043 20.021 20.413 20.413C20.0217 20.805 19.5507 21.0007 19 21H5ZM5 5V19H19V5H17V12L14.5 10.5L12 12V5H5Z" fill="var(--color-icon)"></path>
                      </svg>
                      <div class="evidence-label-wrapper">
                        <div class="evidence-text">Evidence</div>
                      </div>
                    </div>
                    <svg width="10" height="15" viewBox="0 0 10 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M1 1L8 8L1 15" stroke="var(--color-icon)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                    </svg>
                  </a>
                {{/if}}
              {{/if}}
            </article>
          {{/each}}
        </div>
      </section>
    {{/if}}

    <section class="issuing-details">
      <div class="typography-heading">
        <h2 class="issuing-title">Issuing details</h2>
      </div>
      <div class="facility-details">
        <div class="grid-row-alt border-bottom-gray-400">
          <div class="label-alt">Issued by</div>
          <div class="grid-value-link">
            <div class="div-wrapper">
              <a href="{{issuer.id}}"
                 class="issuer-link"
                 aria-label="Visit {{issuer.name}}">{{issuer.name}}</a>
            </div>
          </div>
        </div>
        {{#if validFrom}}
          <div class="grid-row-alt border-bottom-gray-400">
            <div class="label-alt">Valid from</div>
            <div class="grid-value">
              <div class="grid-value-text-alt">{{validFrom}}</div>
            </div>
          </div>
        {{/if}}
        {{#if validUntil}}
          <div class="grid-row-alt border-bottom-gray-400">
            <div class="label-alt">Valid until</div>
            <div class="grid-value">
              <div class="grid-value-text-alt">{{validUntil}}</div>
            </div>
          </div>
        {{/if}}
      </div>
    </section>
  </div>
</body>

</html>