<!-- https://jargon.sh/user/unece/untp-vocab/v/working/artefacts/jsonSchemas/render.json?class=DigitalTransactionEvent -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Transaction Event</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap"
    rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Lato", sans-serif;
    }

    footer {
      min-height: 60px;
    }

    .container {
      text-align: initial;
      background: #FAFAFA;
      min-width: 290px;
      max-width: 390px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 32px;
    }

    .blue-bottom-line {
      text-decoration: none;
      color: black;
      border-bottom: 2px #94C4F5 solid;
      width: fit-content;
      justify-content: flex-start;
      align-items: flex-start;
      gap: 10px;
      display: inline-flex;
    }

    .header {
      color: rgba(255, 255, 255, 1);
      min-height: 350px;
      background: #1F5A95;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      gap: 32px;
      display: flex;
    }

    .trace-header {
      min-height: 94px;
      padding: 16px;
      width: 100%;
      background: #006EB5;
      flex-direction: column;
      justify-content: flex-start;
      align-items: flex-start;
      gap: 8px;
      display: flex;
    }

    .trace-header p {
      width: 300px;
      font-size: 16px;
      font-weight: 400;
      line-height: 22px;
      word-wrap: break-word;
    }

    .trace-header h1 {
      align-self: stretch;
      font-size: 30px;
      min-height: 32px;
      flex-direction: column;
      justify-content: flex-end;
      align-items: flex-start;
      display: flex;
    }

    .event-issued-header {
      width: 100%;
      min-height: 250px;
      padding: 0 16px;
      flex-direction: column;
      justify-content: flex-start;
      align-items: flex-start;
      gap: 4px;
      display: flex;
    }

    .event-issued-by {
      flex-direction: column;
      justify-content: flex-start;
      align-items: flex-start;
      gap: 4px;
      display: flex;
    }

    .event-issued-by p {
      align-items: flex-start;
      font-weight: 300;
      font-size: 14px;
      line-height: 15.26px;
    }

    .event-issued-by h2 {
      font-size: 20px;
      font-weight: 500;
      line-height: 21.8px;
      word-wrap: break-word;
    }

    .event-issued-items {
      flex-direction: column;
      justify-content: flex-start;
      align-items: flex-start;
      display: flex;
      align-self: stretch;
    }

    .event-issued-item {
      align-self: stretch;
      padding-top: 10px;
      padding-bottom: 12px;
      border-bottom: 1px #B5D5F5 solid;
      justify-content: flex-start;
      align-items: flex-start;
      gap: 16px;
      display: inline-flex;
    }

    .event-issued-item:last-child {
      border-bottom: none;
    }

    .event-issued-item-title {
      width: 130px;
      color: white;
      font-size: 16px;
      font-weight: 300;
      line-height: 17.44px;
      word-wrap: break-word;
    }

    .event-issued-item-value {
      /* flex: 1 1 0; */
      /* align-self: stretch; */
      font-size: 16px;
      font-weight: 400;
      line-height: 17.44px;
      word-wrap: break-word;
      color: white;
    }

    .event-issued-item-values {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .event-description {
      padding: 0 16px;

      flex-direction: column;
      justify-content: flex-start;
      align-items: flex-start;
      display: flex;
      gap: 12px;
    }

    .event-description-item {
      padding: 10px 0;

      display: flex;
      gap: 16px;
      justify-content: flex-start;
      align-items: center;
    }

    .event-description h3 {
      color: black;
      font-size: 18px;
      font-weight: 700;
      line-height: 19.62px;
      word-wrap: break-word;
    }

    .event-description-item-title {
      color: #55606E;
      font-size: 16px;
      font-weight: 400;
      line-height: 17.44px;
      word-wrap: break-word;
      width: 130px;
    }

    .event-description-item-value {
      color: #232E3D;
      font-size: 16px;
      font-weight: 500;
      line-height: 17.44px;

      display: flex;
      flex: 1 1 0;
      flex-direction: column;
      gap: 6px;
    }

    .event-description-bottom-line {
      width: 100%;
      border-bottom: 1px #D4D6D8 solid;
      word-break: break-all;
    }

    .event-list {
      align-self: stretch;
      padding: 0 16px;

      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      gap: 12px;
      display: flex;
    }

    .event-list>h3 {
      align-self: baseline;

      color: black;
      font-size: 18px;
      font-weight: 700;
      line-height: 19.62px;
      word-wrap: break-word;
    }

    .event-item {
      width: 100%;
      padding: 16px 18px 16px 16px;
      background: white;
      border-radius: 4px;
      border: 1px #D4D6D8 solid;
      word-break: break-all;

      flex-direction: column;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 4px;
    }

    .event-item p {
      color: #55606E;
      font-size: 14px;
      font-weight: 400;
      line-height: 19.25px;
      word-wrap: break-word;
    }

    .event-item-space-between {
      width: 100%;
      display: grid;
      grid-template-columns: 3fr 1.5fr;
    }

    .event-item-load-left {
      justify-self: end;
      grid-column: 2;
    }

    .sustainability-claims {
      color: black;
      font-size: 14px;
      font-weight: 400;

      display: flex;
      gap: 4px;
    }

    .sustainability-claims div {
      padding: 2px 3px;
      background: #EDEFF0;
      font-size: 14px;
      font-weight: 400;
      line-height: 19.25px;
      word-wrap: break-word;
    }

    .event-item-nav,
    .event-item-nav:link {
      cursor: pointer;
      text-decoration: none;
      color: black;

      display: flex;
      justify-content: flex-end;
      align-items: center;
      gap: 5px;
    }

    .event-item-description {
      color: #55606E;
      font-size: 14px;
      font-weight: 400;
      line-height: 19.25px;
      word-wrap: break-word;
    }

    .sensor {
      padding: 0 16px;

      flex-direction: column;
      justify-content: flex-start;
      align-items: flex-start;
      display: flex;
      gap: 12px;
    }

    .sensor-item {
      padding: 10px 0;

      display: flex;
      gap: 16px;
      justify-content: flex-start;
      align-items: center;
    }

    .sensor h3 {
      color: black;
      font-size: 18px;
      font-weight: 700;
      line-height: 19.62px;
      word-wrap: break-word;
    }

    .sensor-item-title {
      align-self: baseline;
      color: #55606E;
      font-size: 16px;
      font-weight: 400;
      line-height: 17.44px;
      word-wrap: break-word;
      width: 130px;
    }

    .sensor-item-value {
      color: #232E3D;
      font-size: 16px;
      font-weight: 500;
      line-height: 17.44px;
      word-wrap: break-word;

      display: flex;
      flex: 1 1 0;
      flex-direction: column;
      gap: 6px;
    }

    .sensor-bottom-line {
      width: 100%;
      border-bottom: 1px #D4D6D8 solid;
    }

    .tag {
      padding-left: 8px;
      padding-right: 8px;
      padding-top: 4px;
      padding-bottom: 4px;
      border-radius: 8px;
      overflow: hidden;
      justify-content: center;
      align-items: center;
      color: black;
      font-size: 14px;
      font-weight: 600;
      width: fit-content;

      display: flex;
      gap: 10px;
    }

    .vc-tag {
      background: #B8ECB6;
    }

    .other-evidence-tag {
      background: #B5D5F5;
    }

    .indicator {
      padding-right: 12px;
      background: rgba(181, 213, 245, 0.50);
      border-radius: 4px;
      overflow: hidden;
      border: 1px #1F5A95 solid;
      justify-content: center;
      align-items: center;
      gap: 8px;
      display: inline-flex;
    }

    .indicator-icon {
      min-width: 30px;
      min-height: 30px;
      position: relative;
      border-top-left-radius: 2px;
      border-top-right-radius: 2px;
    }

    .indicator>p {
      color: #1F5A95;
      font-size: 16px;
      font-weight: 600;
      line-height: 17.44px;
      word-wrap: break-word;
    }
  </style>
</head>

<body>
  <div class="container">

    <!-- <TRACEABILITY EVENT> -->
    <div class="header">
      <div class="trace-header">
        <p>TRACEABILITY EVENT</p>
        <h1>Transaction</h1>
      </div>
      <div class="event-issued-header">
        <div class="event-issued-by">
          <p>EVENT ISSUED BY</p>
          <!-- TODO: review -->
          <h2>{{issuer.name}}</h2>
        </div>
        <div class="event-issued-items">
        <!-- TODO: modify based on transformation event updates -->

          {{#each issuer.identifiers}}
          <div class="event-issued-item">
            <div class="event-issued-item-title">Industry</div>
            <!-- FIXME -->
            <div class="event-issued-item-value">Needs to be replaced...</div>
          </div>
          <div class="event-issued-item">
            <div class="event-issued-item-title">Business identifier</div>
            <!-- FIXME -->
            <a href="#" class="event-issued-item-value blue-bottom-line">Needs to be replaced...</a>
          </div>
          <div class="event-issued-item">
            <div class="event-issued-item-title">Location</div>
            <div class="event-issued-item-values">
              <!-- FIXME -->
              <a href="#" class="event-issued-item-value blue-bottom-line">Needs to be replaced...</a>
            </div>
          </div>
          <div class="event-issued-item">
            <div class="event-issued-item-title">Identity verification</div>
            <div class="event-issued-item-values">
              <!-- FIXME -->
              <a href="{{scheme}}" class="event-issued-item-value blue-bottom-line">{{identiferValue}}</a>
              <div class="event-issued-item-value tag vc-tag">
                <div>
                  Verifiable credential
                </div>
                <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M4.23081 22C3.29064 22 2.49149 21.6792 1.83337 21.0375C1.17525 20.3958 0.846191 19.6167 0.846191 18.7V15.4H4.23081V0L5.92311 1.65L7.61542 0L9.30773 1.65L11 0L12.6923 1.65L14.3847 0L16.077 1.65L17.7693 0L19.4616 1.65L21.1539 0V18.7C21.1539 19.6167 20.8248 20.3958 20.1667 21.0375C19.5086 21.6792 18.7094 22 17.7693 22H4.23081ZM17.7693 19.8C18.0889 19.8 18.3571 19.6944 18.5737 19.4832C18.7903 19.272 18.8982 19.0109 18.8975 18.7V3.3H6.48722V15.4H16.6411V18.7C16.6411 19.0117 16.7494 19.2731 16.966 19.4843C17.1826 19.6955 17.4504 19.8007 17.7693 19.8ZM7.61542 7.7V5.5H14.3847V7.7H7.61542ZM7.61542 11V8.8H14.3847V11H7.61542ZM16.6411 7.7C16.3214 7.7 16.0536 7.5944 15.8378 7.3832C15.6219 7.172 15.5136 6.91093 15.5129 6.6C15.5121 6.28907 15.6204 6.028 15.8378 5.8168C16.0551 5.6056 16.3229 5.5 16.6411 5.5C16.9592 5.5 17.2274 5.6056 17.4455 5.8168C17.6636 6.028 17.7715 6.28907 17.7693 6.6C17.767 6.91093 17.6587 7.17237 17.4443 7.3843C17.23 7.59623 16.9622 7.70147 16.6411 7.7ZM16.6411 11C16.3214 11 16.0536 10.8944 15.8378 10.6832C15.6219 10.472 15.5136 10.2109 15.5129 9.9C15.5121 9.58907 15.6204 9.328 15.8378 9.1168C16.0551 8.9056 16.3229 8.8 16.6411 8.8C16.9592 8.8 17.2274 8.9056 17.4455 9.1168C17.6636 9.328 17.7715 9.58907 17.7693 9.9C17.767 10.2109 17.6587 10.4724 17.4443 10.6843C17.23 10.8962 16.9622 11.0015 16.6411 11ZM4.23081 19.8H14.3847V17.6H3.1026V18.7C3.1026 19.0117 3.21091 19.2731 3.42752 19.4843C3.64414 19.6955 3.9119 19.8007 4.23081 19.8Z"
                    fill="black" />
                </svg>
              </div>
            </div>
          </div>
          {{/each}}
          
        </div>
      </div>
    </div>
    <!-- </TRACEABILITY EVENT> -->

    <!-- <Event description> -->
    <!-- TODO: modify based on transformation event updates -->

    <div class="event-description">
      <h3>Event description</h3>
      <div class="event-description-item event-description-bottom-line">
        <div class="event-description-item-title">Event ID</div>
        <div class="event-description-item-value">{{credentialSubject.eventID}}</div>
      </div>
      <div class="event-description-item event-description-bottom-line">
        <div class="event-description-item-title">Event type</div>
        <!-- FIXME -->
        <div class="event-description-item-value">Needs to be replaced...</div>
      </div>
      <div class="event-description-item event-description-bottom-line">
        <div class="event-description-item-title">Description</div>
        <!-- FIXME -->
        <div class="event-description-item-value">Needs to be replaced...</div>
      </div>
      <div class="event-description-item event-description-bottom-line">
        <div class="event-description-item-title">Time and date</div>
        <!-- FIXME -->
        <div class="event-description-item-value">{{credentialSubject.eventTime}}</div>
      </div>
      <div class="event-description-item event-description-bottom-line">
        <div class="event-description-item-title">Lifecycle action</div>
        <!-- FIXME -->
        <div class="event-description-item-value">{{credentialSubject.action}}</div>
      </div>
      <div class="event-description-item event-description-bottom-line">
        <div class="event-description-item-title">Product disposition</div>
        <!-- FIXME -->
        <div class="event-description-item-value">{{credentialSubject.disposition}}</div>
      </div>
      <div class="event-description-item event-description-bottom-line">
        <div class="event-description-item-title">Business step</div>
        <!-- FIXME -->
        <div class="event-description-item-value">{{credentialSubject.bizStep}}</div>
      </div>
      <div class="event-description-item event-description-bottom-line">
        <div class="event-description-item-title">Location</div>
        <div class="event-description-item-value">
          <!-- FIXME -->
          <a href="{{credentialSubject.bizLocation}}" class="blue-bottom-line">{{credentialSubject.bizLocation}}</a>
        </div>
      </div>
      <div class="event-description-item event-description-bottom-line">
        <div class="event-description-item-title">Transaction document</div>
        <div class="event-description-item-value">
          <!-- TODO: review. I changed a little from the design -->
          <a href="{{credentialSubject.referenceDocument.documentURL}}" class="blue-bottom-line">{{credentialSubject.referenceDocument.identifier}}</a>
        </div>
      </div>
    </div>
    <!-- </Event description> -->

    <!-- <Transaction> -->
    <div class="event-list">
      <h3>Transaction</h3>
      <!-- <Source Party> -->
      <div class="event-item">
        <div class="event-item-space-between">
          <!-- TODO: review -->
          <h4>{{credentialSubject.sourceParty.name}}</h4>
          
          <a href="{{credentialSubject.sourceParty.identifiers.0.binding.reference}}" class="event-item-nav event-item-load-left">
            <p>SOURCE</p>
            <svg width="10" height="15" viewBox="0 0 10 15" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M1 1L7.66667 7.49842M7.66667 7.49842L1 14M7.66667 7.49842H7" stroke="#4F95DD" stroke-width="2" />
            </svg>
          </a>
        </div>
        <!-- TODO: review -->
        <p>{{credentialSubject.sourceParty.identifiers.0.identifierValue}}</p>
      </div>
      <!-- </Source Party> -->

      <div class="indicator">
        <div class="indicator-icon">
          <svg width="31" height="30" viewBox="0 0 31 30" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M30.5 0H0.5V30H30.5V0ZM15.8838 8H14.1162V18.6061L9.25505 13.7449L8 15L15 22L22 15L20.7449 13.7449L15.8838 18.6061V8Z" fill="#1F5A95"/>
          </svg>
        </div>
        <p>Transferred</p>
      </div>

      <!-- <Destination Party> -->
      <!-- TODO: same as above -->

      <div class="event-item">
        <div class="event-item-space-between">
          <!-- FIXME -->
          <h4>{{credentialSubject.destinationParty.name}}</h4>
          <!-- FIXME -->
          <a href="{{credentialSubject.destinationParty.partyID}}" class="event-item-nav event-item-load-left">
            <p>DESTINATION</p>
            <svg width="10" height="15" viewBox="0 0 10 15" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M1 1L7.66667 7.49842M7.66667 7.49842L1 14M7.66667 7.49842H7" stroke="#4F95DD" stroke-width="2" />
            </svg>
          </a>
        </div>
        <!-- FIXME -->
        <p>{{credentialSubject.destinationParty.partyID}}</p>
      </div>
    </div>
    <!-- </Destination Party> -->
    <!-- </Transaction> -->

    <!-- <Object list> -->
    <!-- TODO: same as transformation event + add qant list (both should be conditional)-->

      <div class="event-list">
        <h3>Object list</h3>
        <!-- FIXME -->
        {{#each credentialSubject.epcList}}
        <div class="event-item">
          <h4>{{name}}</h4>
          <!-- FIXME -->
          <p>{{itemID}}</p>
          <!-- FIXME -->
          <p>Product class name</p>
          <div class="event-item-space-between">
            <div class="sustainability-claims">
              <!-- FIXME -->
              <div>Sustainability 0%</div>
              <!-- FIXME -->
              <div>Confidence 0%</div>
            </div>
            <!-- FIXME -->
            <a href="{{itemID}}" class="event-item-nav">
              <div>View</div>
              <svg width="10" height="15" viewBox="0 0 10 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1 1L7.66667 7.49842M7.66667 7.49842L1 14M7.66667 7.49842H7" stroke="#4F95DD" stroke-width="2" />
              </svg>
            </a>
          </div>
        </div> 
        {{/each}}
      <!-- </Object list> -->

    <!-- <Sensor> -->
    <!-- TODO: same as transformation event )-->

    <div class="sensor">
      <h3>Sensor</h3>
      {{#each credentialSubject.sensorElementList}}
      <div class="sensor-item sensor-bottom-line">
        <div class="sensor-item-title">{{sensorMetadata.device.name}}</div>
        <div class="sensor-item-value">
          <!-- FIXME -->
          {{#each sensorReport}}
          <!-- FIXME -->
          <p>{{time}}</p>
          <!-- FIXME -->
          <a href="{{type}}" class="blue-bottom-line">Data type</a>
          <!-- FIXME -->
          <p>{{value}} {{uom}}</p>
          {{/each}}
          <!-- FIXME -->
          <a href="{{sensorIntegrityProof}}" class="blue-bottom-line">{{sensorIntegrityProof}}</a>
          <div class="event-issued-item-value tag other-evidence-tag">
            <div>Other evidence</div>
            <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M4.23081 22C3.29064 22 2.49149 21.6792 1.83337 21.0375C1.17525 20.3958 0.846191 19.6167 0.846191 18.7V15.4H4.23081V0L5.92311 1.65L7.61542 0L9.30773 1.65L11 0L12.6923 1.65L14.3847 0L16.077 1.65L17.7693 0L19.4616 1.65L21.1539 0V18.7C21.1539 19.6167 20.8248 20.3958 20.1667 21.0375C19.5086 21.6792 18.7094 22 17.7693 22H4.23081ZM17.7693 19.8C18.0889 19.8 18.3571 19.6944 18.5737 19.4832C18.7903 19.272 18.8982 19.0109 18.8975 18.7V3.3H6.48722V15.4H16.6411V18.7C16.6411 19.0117 16.7494 19.2731 16.966 19.4843C17.1826 19.6955 17.4504 19.8007 17.7693 19.8ZM7.61542 7.7V5.5H14.3847V7.7H7.61542ZM7.61542 11V8.8H14.3847V11H7.61542ZM16.6411 7.7C16.3214 7.7 16.0536 7.5944 15.8378 7.3832C15.6219 7.172 15.5136 6.91093 15.5129 6.6C15.5121 6.28907 15.6204 6.028 15.8378 5.8168C16.0551 5.6056 16.3229 5.5 16.6411 5.5C16.9592 5.5 17.2274 5.6056 17.4455 5.8168C17.6636 6.028 17.7715 6.28907 17.7693 6.6C17.767 6.91093 17.6587 7.17237 17.4443 7.3843C17.23 7.59623 16.9622 7.70147 16.6411 7.7ZM16.6411 11C16.3214 11 16.0536 10.8944 15.8378 10.6832C15.6219 10.472 15.5136 10.2109 15.5129 9.9C15.5121 9.58907 15.6204 9.328 15.8378 9.1168C16.0551 8.9056 16.3229 8.8 16.6411 8.8C16.9592 8.8 17.2274 8.9056 17.4455 9.1168C17.6636 9.328 17.7715 9.58907 17.7693 9.9C17.767 10.2109 17.6587 10.4724 17.4443 10.6843C17.23 10.8962 16.9622 11.0015 16.6411 11ZM4.23081 19.8H14.3847V17.6H3.1026V18.7C3.1026 19.0117 3.21091 19.2731 3.42752 19.4843C3.64414 19.6955 3.9119 19.8007 4.23081 19.8Z"
                fill="black" />
            </svg>
          </div>
        </div>
      </div>
      {{/each}}
    </div>
    <!-- </Sensor> -->

    <footer></footer>
</body>

</html>