"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[4422],{93060:(e,i,n)=>{n.d(i,{Ay:()=>c,RM:()=>r});var t=n(74848),s=n(28453);const r=[];function o(e){const i={admonition:"admonition",p:"p",...(0,s.R)(),...e.components};return(0,t.jsx)(i.admonition,{type:"info",children:(0,t.jsx)(i.p,{children:"Please note that this content is under development and is not ready for implementation. This status message will be updated as content development progresses."})})}function c(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},56681:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>a,contentTitle:()=>c,default:()=>p,frontMatter:()=>o,metadata:()=>l,toc:()=>d});var t=n(74848),s=n(28453),r=n(93060);const o={sidebar_position:7,title:"Identity Resolver Service"},c=void 0,l={id:"mock-apps/dependent-services/identity-resolution-service",title:"Identity Resolver Service",description:"The Identity Resolver Service (IDR) is a critical component of the United Nations Transparency Protocol (UNTP) ecosystem. It serves as a bridge between the identifiers of things (e.g., products, entities, transactions) and additional information about those things. You can learn more about Identity Resolver Services here.",source:"@site/versioned_docs/version-0.2.0/mock-apps/dependent-services/identity-resolution-service.md",sourceDirName:"mock-apps/dependent-services",slug:"/mock-apps/dependent-services/identity-resolution-service",permalink:"/tests-untp/docs/mock-apps/dependent-services/identity-resolution-service",draft:!1,unlisted:!1,editUrl:"https://github.com/uncefact/tests-untp/tree/next/documentation/versioned_docs/version-0.2.0/mock-apps/dependent-services/identity-resolution-service.md",tags:[],version:"0.2.0",sidebarPosition:7,frontMatter:{sidebar_position:7,title:"Identity Resolver Service"},sidebar:"tutorialSidebar",previous:{title:"Storage Service",permalink:"/tests-untp/docs/mock-apps/dependent-services/storage-service"},next:{title:"Configuration",permalink:"/tests-untp/docs/mock-apps/configuration/"}},a={},d=[...r.RM,{value:"Identity Resolver Service Documentation",id:"identity-resolver-service-documentation",level:3},{value:"Overview of Link Resolution Services",id:"overview-of-link-resolution-services",level:3},{value:"Mock GS1 Service:",id:"mock-gs1-service",level:4},{value:"Primary IDR Service:",id:"primary-idr-service",level:4},{value:"Development Flexibility",id:"development-flexibility",level:3},{value:"Requirements",id:"requirements",level:3},{value:"Seed Script",id:"seed-script",level:3},{value:"Script Overview",id:"script-overview",level:4},{value:"Prerequisites",id:"prerequisites",level:4},{value:"Option 1: Running the Seed Script Locally",id:"option-1-running-the-seed-script-locally",level:4},{value:"Option 2: Running the Seed Script in Docker Compose",id:"option-2-running-the-seed-script-in-docker-compose",level:4}];function h(e){const i={a:"a",code:"code",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Ay,{}),"\n",(0,t.jsxs)(i.p,{children:["The Identity Resolver Service (IDR) is a critical component of the United Nations Transparency Protocol (UNTP) ecosystem. It serves as a bridge between the ",(0,t.jsx)(i.a,{href:"https://uncefact.github.io/spec-untp/docs/specification/Identifiers",children:"identifiers of things (e.g., products, entities, transactions)"})," and additional information about those things. You can learn more about Identity Resolver Services ",(0,t.jsx)(i.a,{href:"https://uncefact.github.io/spec-untp/docs/specification/IdentityResolver",children:"here"}),"."]}),"\n",(0,t.jsx)(i.p,{children:"Key functions of the Identity Resolver Service include:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Registering links of created credentials using the primary identifier of the product as the key."}),"\n",(0,t.jsx)(i.li,{children:"Enabling downstream value chain actors to discover more information about products they have purchased or are considering purchasing."}),"\n",(0,t.jsxs)(i.li,{children:["Facilitating the connection between unique identifiers and more information about the product (e.g. ",(0,t.jsx)(i.a,{href:"https://uncefact.github.io/spec-untp/docs/specification/DigitalProductPassport",children:"Digital Product Passports"}),", ",(0,t.jsx)(i.a,{href:"https://uncefact.github.io/spec-untp/docs/specification/DigitalTraceabilityEvents",children:"Traceability Events"})," and ",(0,t.jsx)(i.a,{href:"https://uncefact.github.io/spec-untp/docs/specification/ConformityCredential",children:"Conformity Credentials"}),").\nFor the Mock Apps, we currently recommend and will be using the ",(0,t.jsx)(i.a,{href:"https://github.com/pyx-industries/pyx-identity-resolver/tree/v0.0.1",children:"Pyx Identity Resolver v0.0.1"}),"."]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"identity-resolver-service-documentation",children:"Identity Resolver Service Documentation"}),"\n",(0,t.jsxs)(i.p,{children:["Please go through the Pyx Identity Resolver documentation available ",(0,t.jsx)(i.a,{href:"https://github.com/pyx-industries/pyx-identity-resolver/blob/v0.0.1/app/README.md",children:"here"})," to understand how to set up and use the Identity Resolver Service."]}),"\n",(0,t.jsx)(i.h3,{id:"overview-of-link-resolution-services",children:"Overview of Link Resolution Services"}),"\n",(0,t.jsx)(i.p,{children:"The app uses two instances of the Identity Resolver (IDR) service:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.h4,{id:"mock-gs1-service",children:"Mock GS1 Service:"}),"\n",(0,t.jsx)(i.p,{children:"This instance is only used by the app\u2019s scanning feature. It simulates a GS1 resolver, providing initial information for barcodes with primary identifiers (e.g., GTIN), including qualifiers, and returns a linkset with a URL to the primary IDR."}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.h4,{id:"primary-idr-service",children:"Primary IDR Service:"}),"\n",(0,t.jsx)(i.p,{children:"This main resolver is used across the app and stores all sample identifiers and link resolvers. It supports standalone operations and works alongside the mock GS1 service in the scanning feature. The primary IDR also allows the app to register new link resolvers, such as those needed for Traceability Events."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"development-flexibility",children:"Development Flexibility"}),"\n",(0,t.jsx)(i.p,{children:"The IDR service enables:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsx)(i.li,{children:"Pre-configured testing identifiers and link-resolvers: Simplifies setup in development."}),"\n",(0,t.jsx)(i.li,{children:"Seamless containerized deployment: Ensures consistent behaviour across environments."}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"requirements",children:"Requirements"}),"\n",(0,t.jsx)(i.p,{children:"To use the Identity Resolver Service with the mock apps, you will need:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsx)(i.li,{children:"The Identity Resolver Service API running."}),"\n",(0,t.jsxs)(i.li,{children:["The address of the Identity Resolver Service API (e.g., ",(0,t.jsx)(i.a,{href:"http://localhost:8080",children:"http://localhost:8080"}),")."]}),"\n",(0,t.jsx)(i.li,{children:"The API key of the Identity Resolver Service API (if applicable)"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Make sure you have the Identity Resolver Service API set up and running, and note its address and API key (if applicable) before proceeding with the mock app configuration."}),"\n",(0,t.jsx)(i.h3,{id:"seed-script",children:"Seed Script"}),"\n",(0,t.jsx)(i.p,{children:"The seed script is essential for initialising the Identity Resolver (IDR) services by loading pre-configured identifiers and link-resolvers. These identifiers allow the app to register link-resolvers with the correct mapping, ensuring it functions as expected."}),"\n",(0,t.jsx)(i.h4,{id:"script-overview",children:"Script Overview"}),"\n",(0,t.jsx)(i.p,{children:"The script:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Checks the health status"})," of the IDR service to confirm it's ready to accept requests."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Attempts multiple retries"})," to accommodate any startup delays."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Seeds data"})," to the IDR service using identifiers and link-resolvers stored in the ",(0,t.jsx)(i.code,{children:"/seeding"})," folder in the root directory."]}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsxs)(i.p,{children:["The seed script can be run in two ways: directly from the host machine (using ",(0,t.jsx)(i.code,{children:"export"})," to set environment variables) or inside a Docker container (",(0,t.jsx)(i.code,{children:"docker-compose"})," with environment variables specified under the ",(0,t.jsx)(i.code,{children:"seeding-data"})," service)."]}),"\n",(0,t.jsx)(i.h4,{id:"option-1-running-the-seed-script-locally",children:"Option 1: Running the Seed Script Locally"}),"\n",(0,t.jsx)(i.p,{children:"If you are running the seed script directly on your host machine, set the necessary environment variables by exporting them in your shell:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"# Identity Resolver (IDR) Service Configuration\nexport IDR_SERVICE_HOST=localhost # IDR service host\nexport IDR_SERVICE_API_VERSION=1.0.0 # IDR API version\nexport IDR_SERVICE_PORT=3000 # IDR service port\nexport IDR_SERVICE_API_KEY=test123 # IDR service API key\nexport IDR_SERVICE_DOMAIN=http://localhost:3000 # IDR service domain\n\n# Mock GS1 Service Configuration\nexport MOCK_GS1_SERVICE_HOST=localhost # Mock GS1 service host\nexport MOCK_GS1_SERVICE_API_VERSION=1.0.0 # Mock GS1 service API version\nexport MOCK_GS1_SERVICE_PORT=3001 # Mock GS1 service port\nexport MOCK_GS1_SERVICE_API_KEY=test456 # Mock GS1 service API key\n"})}),"\n",(0,t.jsx)(i.p,{children:"After setting these variables, run the seed scripts:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"# Run the IDR service seeding script\n./seeding-idr-data.sh\n\n# Run the mock GS1 service seeding script\n./seeding-mock-gs1-data.sh\n"})}),"\n",(0,t.jsx)(i.h4,{id:"option-2-running-the-seed-script-in-docker-compose",children:"Option 2: Running the Seed Script in Docker Compose"}),"\n",(0,t.jsx)(i.p,{children:"If you\u2019re running the script as part of a Docker Compose setup, specify the environment variables under the seeding-data service. This example assumes the following docker-compose.yml setup:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"services:\n  seeding-data:\n    image: alpine:3.20.3\n    environment:\n      # IDR service environment variables\n      - IDR_SERVICE_HOST=identity-resolver-service\n      - IDR_SERVICE_API_VERSION=1.0.0\n      - IDR_SERVICE_PORT=3000\n      - IDR_SERVICE_API_KEY=test123\n      - IDR_SERVICE_DOMAIN=http://localhost:3000\n\n      # Mock GS1 service environment variables\n      - MOCK_GS1_SERVICE_HOST=mock-global-gs1-resolver\n      - MOCK_GS1_SERVICE_API_VERSION=1.0.0\n      - MOCK_GS1_SERVICE_PORT=3001\n      - MOCK_GS1_SERVICE_API_KEY=test456\n"})}),"\n",(0,t.jsx)(i.p,{children:"Once this configuration is in place, start the container to automatically run the seed scripts with the environment variables already configured:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"SEEDING=true docker-compose up -d\n"})}),"\n",(0,t.jsx)(i.p,{children:"In the next section, we will explore the mock app configuration file and how to customise it for your specific use case."})]})}function p(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},28453:(e,i,n)=>{n.d(i,{R:()=>o,x:()=>c});var t=n(96540);const s={},r=t.createContext(s);function o(e){const i=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:i},e.children)}}}]);