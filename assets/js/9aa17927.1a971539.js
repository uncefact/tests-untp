"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[4238],{18481:(e,i,t)=>{t.d(i,{Ay:()=>o,RM:()=>r});var n=t(74848),s=t(28453);const r=[];function a(e){const i={admonition:"admonition",p:"p",...(0,s.R)(),...e.components};return(0,n.jsx)(i.admonition,{type:"info",children:(0,n.jsx)(i.p,{children:"Please note that this content is under development and is not ready for implementation. This status message will be updated as content development progresses."})})}function o(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(a,{...e})}):a(e)}},85898:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>c,toc:()=>d});var n=t(74848),s=t(28453),r=t(18481);const a={sidebar_position:3,title:"Verifiable Credentials"},o="Verifiable Credential (VC) Verification",c={id:"test-suites/technical-interoperability/verifiable-credentials/index",title:"Verifiable Credentials",description:"Disclaimer: The mutual verification process described in this document is provisional and subject to updates as the UNTP Playground and testing processes mature. Implementers should check for the latest documentation and UNTP Playground releases for the most current procedures.",source:"@site/docs/test-suites/technical-interoperability/verifiable-credentials/index.md",sourceDirName:"test-suites/technical-interoperability/verifiable-credentials",slug:"/test-suites/technical-interoperability/verifiable-credentials/",permalink:"/tests-untp/docs/next/test-suites/technical-interoperability/verifiable-credentials/",draft:!1,unlisted:!1,editUrl:"https://github.com/uncefact/tests-untp/tree/next/documentation/docs/test-suites/technical-interoperability/verifiable-credentials/index.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"Verifiable Credentials"},sidebar:"tutorialSidebar",previous:{title:"Installation",permalink:"/tests-untp/docs/next/test-suites/technical-interoperability/installation"},next:{title:"UNTP Extensions",permalink:"/tests-untp/docs/next/test-suites/technical-interoperability/untp-extensions/"}},l={},d=[...r.RM,{value:"Mutual Verification in the UNTP Playground",id:"mutual-verification-in-the-untp-playground",level:2},{value:"Example Scenario",id:"example-scenario",level:3},{value:"Verification Process",id:"verification-process",level:2},{value:"Verifying Your Implementation",id:"verifying-your-implementation",level:2},{value:"Troubleshooting and Resources",id:"troubleshooting-and-resources",level:2},{value:"Future Enhancements",id:"future-enhancements",level:2}];function h(e){const i={a:"a",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.Ay,{}),"\n",(0,n.jsx)(i.h1,{id:"verifiable-credential-vc-verification",children:"Verifiable Credential (VC) Verification"}),"\n",(0,n.jsxs)(i.blockquote,{children:["\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.strong,{children:"Disclaimer"}),": The mutual verification process described in this document is provisional and subject to updates as the UNTP Playground and testing processes mature. Implementers should check for the latest documentation and UNTP Playground releases for the most current procedures."]}),"\n"]}),"\n",(0,n.jsxs)(i.p,{children:["The ",(0,n.jsx)(i.a,{href:"https://test.uncefact.org/untp-playground",children:"UNTP Playground"})," enables implementers to upload UNTP-compliant credentials, such as Digital Product Passports (DPPs) or Digital Conformity Credentials (DCCs), for testing. Uploading a credential to the Playground initiates a testing process that evaluates the credential against multiple categories. One key category is adherence to the ",(0,n.jsx)(i.a,{href:"https://www.w3.org/TR/vc-data-model-2.0/",children:"W3C Verifiable Credentials Data Model (VCDM) v2"})," and additional criteria outlined in the ",(0,n.jsx)(i.a,{href:"https://uncefact.github.io/spec-untp/docs/specification/VerifiableCredentials",children:"Verifiable Credentials section"})," of the UNTP specification are achieved through mutual verification."]}),"\n",(0,n.jsx)(i.h2,{id:"mutual-verification-in-the-untp-playground",children:"Mutual Verification in the UNTP Playground"}),"\n",(0,n.jsx)(i.p,{children:"Mutual verification in the UNTP Playground is a two-stage process ensuring that both the implementer and the Playground can issue and verify credentials compliant with the W3C VCDM v2 and UNTP specifications. The process is designed to support UNTP-specific roles, such as a battery manufacturer issuing a DPP and an assessment company issuing a DCC, ensuring interoperability across these use cases. The process comprises:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Stage 1"}),": Implementers issue and upload their own VC (e.g., a DPP) to the Playground, which tests it against the verification steps outlined in the Verification Process section."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Stage 2"}),": Implementers download a UNTP-issued test credential (e.g., a DPP) from the Playground and verify it within their own VC implementation, as detailed in the Verifying Your Implementation section."]}),"\n"]}),"\n",(0,n.jsxs)(i.p,{children:["This two-stage approach promotes interoperability by confirming that both parties adhere to the ",(0,n.jsx)(i.a,{href:"https://www.w3.org/TR/vc-data-model-2.0/",children:"W3C Verifiable Credentials Data Model (VCDM) v2"})," standards, with stricter requirements as defined in the ",(0,n.jsx)(i.a,{href:"https://uncefact.github.io/spec-untp/docs/specification/VerifiableCredentials",children:"UNTP Verifiable Credentials specification"}),". Specifically, implementations must use the ",(0,n.jsx)(i.code,{children:"did:web"})," method for Decentralized Identifiers (DIDs), and for securing credentials with an enveloping proof, ",(0,n.jsx)(i.a,{href:"https://www.w3.org/TR/vc-jose-cose/",children:"JOSE"})," with the ",(0,n.jsx)(i.code,{children:"EdDSA"})," algorithm using the ",(0,n.jsx)(i.code,{children:"Ed25519"})," curve, and ",(0,n.jsx)(i.a,{href:"https://www.w3.org/TR/vc-bitstring-status-list/",children:"BitstringStatusListEntry"})," for credential revocation, ensuring interoperability across UNTP-compliant ecosystems."]}),"\n",(0,n.jsx)(i.h3,{id:"example-scenario",children:"Example Scenario"}),"\n",(0,n.jsx)(i.p,{children:"To illustrate the role of Verifiable Credentials (VCs) in the UNTP ecosystem, consider an assessment company (Party A), a battery assembler (Party B), and a regulator (Party C) in a supply chain:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Stage 1"}),": Party A issues a Digital Conformity Credential (DCC) as a VC, attesting to the compliance of the assembled battery to a given standard, secured according to the ",(0,n.jsx)(i.a,{href:"https://uncefact.github.io/spec-untp/docs/specification/VerifiableCredentials",children:"UNTP Verifiable Credentials specification"}),"."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Stage 2"}),": Party B verifies Party A\u2019s DCC to confirm its authenticity and compliance with UNTP specification, then issues a Digital Product Passport (DPP) as a VC for the assembled battery. The DPP embeds a link to the DCC to provide evidence of compliance, using the same UNTP standards."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Stage 3"}),": Party C verifies both the DCC and DPP VCs to confirm their authenticity and ensure the battery meets regulatory and sustainability standards."]}),"\n"]}),"\n",(0,n.jsxs)(i.p,{children:["This process ensures that Party A's DCC can be verified by Party B, and Party B's DPP can be verified by Party C, supporting the UNTP ecosystem's interoperability requirements. All parties conform to the same UNTP-compliant standards for securing and verifying VCs, using ",(0,n.jsx)(i.code,{children:"did:web"})," for Decentralized Identifiers (DIDs), ",(0,n.jsx)(i.a,{href:"https://www.w3.org/TR/vc-jose-cose/",children:"JOSE"})," with the ",(0,n.jsx)(i.code,{children:"EdDSA"})," algorithm (",(0,n.jsx)(i.code,{children:"Ed25519"})," curve) for enveloping proofs, and ",(0,n.jsx)(i.a,{href:"https://www.w3.org/TR/vc-bitstring-status-list/",children:"BitstringStatusListEntry"})," for credential revocation."]}),"\n",(0,n.jsx)(i.h2,{id:"verification-process",children:"Verification Process"}),"\n",(0,n.jsx)(i.p,{children:"The verification process ensures that an uploaded UNTP credential complies with the W3C VCDM v2 specification and the VC criteria specified in the UNTP specification. The UNTP Playground performs the following steps when an implementer uploads a credential:"}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.strong,{children:"Verify Securing Mechanism"}),(0,n.jsx)(i.br,{}),"\n","The W3C VCDM v2 specification allows two ",(0,n.jsx)(i.a,{href:"https://www.w3.org/TR/vc-data-model-2.0/#securing-mechanisms",children:"securing mechanisms (enveloping proof and embedded proofs)"}),", but the UNTP specification mandates the exclusive use of ",(0,n.jsx)(i.a,{href:"https://uncefact.github.io/spec-untp/docs/specification/VerifiableCredentials#verifiable-credential-profile",children:"enveloping proofs"}),". The first step verifies that the uploaded credential is secured with an enveloping proof, and is in the following format:"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-json",children:'{\n  "@context": ["https://www.w3.org/ns/credentials/v2", "https://test.uncefact.org/vocabulary/untp/dpp/0.6.0/"],\n  "type": "EnvelopedVerifiableCredential",\n  "id": "data:application/vc+jwt,eyJhbGciOiJFZERTQSIsImtpZCI6..."\n}\n'})}),"\n",(0,n.jsx)(i.p,{children:"Once confirmed, the credential is decoded for further processing."}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.strong,{children:"Verify Signature"}),(0,n.jsx)(i.br,{}),"\n","Confirm that the credential was issued by the claimed issuer, has not been tampered with, and is within the validity period if specified. This involves:"]}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Fetching the issuer's DID document using the ",(0,n.jsx)(i.code,{children:"did:web"})," method, as specified in the ",(0,n.jsx)(i.a,{href:"https://uncefact.github.io/spec-untp/docs/specification/DigitalIdentityAnchor#did-methods",children:"UNTP specification"}),"."]}),"\n",(0,n.jsx)(i.li,{children:"Obtaining the issuer's public key from the DID document."}),"\n",(0,n.jsxs)(i.li,{children:["Verifying the credential's ",(0,n.jsx)(i.a,{href:"https://ed25519.cr.yp.to/",children:"Ed25519 signature"})," using the public key."]}),"\n",(0,n.jsxs)(i.li,{children:["Checking the ",(0,n.jsx)(i.code,{children:"validFrom"})," and ",(0,n.jsx)(i.code,{children:"validUntil"})," properties to ensure the credential is within its validity period."]}),"\n"]}),"\n",(0,n.jsxs)(i.p,{children:["If the credential has been tampered with, the public key is incorrect, or it is outside the validity period, the test will fail. These checks are abstracted within a ",(0,n.jsx)(i.a,{href:"/tests-untp/docs/next/reference-implementation/dependent-services/verifiable-credential-service",children:"verifiable credential service"})," and exposed via an API endpoint (e.g., ",(0,n.jsx)(i.code,{children:"http://localhost:3332/agent/routeVerificationCredential"}),")."]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.strong,{children:"Validate Schema Conformance"}),(0,n.jsx)(i.br,{}),"\n","Ensure the decoded credential adheres to the ",(0,n.jsx)(i.a,{href:"https://w3c.github.io/vc-data-model/schema/verifiable-credential/verifiable-credential-schema.json",children:"VCDM v2 schema"}),", verifying correct data types, required properties, and structural integrity."]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.strong,{children:"Test JSON-LD Context Expansion"}),(0,n.jsx)(i.br,{}),"\n","Expand the decoded credential's ",(0,n.jsx)(i.a,{href:"https://www.w3.org/ns/credentials/v2",children:"JSON-LD context"})," to confirm:"]}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"All terms are defined."}),"\n",(0,n.jsx)(i.li,{children:"No terms conflict with protected terms."}),"\n",(0,n.jsx)(i.li,{children:"The expansion process completes without errors."}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.strong,{children:"Check Credential Status"}),(0,n.jsx)(i.br,{}),"\n","Verify the credential's status (e.g., active, revoked) using the value of ",(0,n.jsx)(i.code,{children:"credentialStatus"})," within the credential, if present, ensuring the status method complies with the UNTP specification's permitted ",(0,n.jsx)(i.a,{href:"https://www.w3.org/TR/vc-bitstring-status-list/",children:"BitstringStatusListEntry"})," and that the credential has not been revoked. This process is abstracted behind an API endpoint of the ",(0,n.jsx)(i.a,{href:"/tests-untp/docs/next/reference-implementation/dependent-services/verifiable-credential-service",children:"verifiable credential service"})," (e.g., ",(0,n.jsx)(i.code,{children:"http://localhost:3332/agent/routeVerificationCredential"}),")."]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"verifying-your-implementation",children:"Verifying Your Implementation"}),"\n",(0,n.jsx)(i.p,{children:"To complete the mutual verification process, implementers must verify the UNTP-issued test credential within their own VC implementation. Follow these steps:"}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.strong,{children:"Download the Test Credential"}),(0,n.jsx)(i.br,{}),"\n","Obtain the UNTP-issued VC (e.g., a DPP) from the Playground, available for download via the ",(0,n.jsx)(i.a,{href:"https://test.uncefact.org/untp-playground",children:"Playground interface"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.strong,{children:"Verify the Credential"}),(0,n.jsx)(i.br,{}),"\n","Using your VC implementation, perform the following checks on the downloaded credential:"]}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Confirm the credential is secured with an enveloping proof in the format specified in the Verification Process."}),"\n",(0,n.jsxs)(i.li,{children:["Verify the ",(0,n.jsx)(i.a,{href:"https://ed25519.cr.yp.to/",children:"Ed25519 signature"})," by fetching the issuer's DID document using ",(0,n.jsx)(i.code,{children:"did:web"}),", obtaining the public key, and checking the signature."]}),"\n",(0,n.jsxs)(i.li,{children:["Validate schema conformance against the ",(0,n.jsx)(i.a,{href:"https://w3c.github.io/vc-data-model/schema/verifiable-credential/verifiable-credential-schema.json",children:"VCDM v2 schema"}),"."]}),"\n",(0,n.jsx)(i.li,{children:"Test JSON-LD context expansion to ensure all terms are defined and no conflicts occur."}),"\n",(0,n.jsxs)(i.li,{children:["Check the credential status using the value of the ",(0,n.jsx)(i.code,{children:"credentialStatus"})," property, if present, ensuring compliance with ",(0,n.jsx)(i.a,{href:"https://www.w3.org/TR/vc-bitstring-status-list/",children:"BitstringStatusListEntry"}),"."]}),"\n",(0,n.jsxs)(i.li,{children:["Validate the ",(0,n.jsx)(i.code,{children:"validFrom"})," and ",(0,n.jsx)(i.code,{children:"validUntil"})," properties to ensure the credential is within its validity period."]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.strong,{children:"Resolve Issues"}),(0,n.jsx)(i.br,{}),"\n","If verification fails, refer to the Troubleshooting and Resources section for guidance."]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:"Successful verification of both the credential you upload to the Playground and the test credential provided by the Playground within your own implementation demonstrates that your solution is interoperable with the verifiable credential requirements outlined in the UNTP specification."}),"\n",(0,n.jsx)(i.h2,{id:"troubleshooting-and-resources",children:"Troubleshooting and Resources"}),"\n",(0,n.jsx)(i.p,{children:"If issues arise during verification, implementers should:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Refer to the ",(0,n.jsx)(i.a,{href:"https://www.w3.org/TR/vc-data-model-2.0/",children:"W3C VCDM v2 Specification"})," for detailed requirements."]}),"\n",(0,n.jsxs)(i.li,{children:["Consult the ",(0,n.jsx)(i.a,{href:"https://github.com/w3c/vc-data-model-2.0-test-suite",children:"W3C VCDM v2 Test Suite"})," (note: still under active development)."]}),"\n",(0,n.jsxs)(i.li,{children:["Ensure documents can be expanded without error; see ",(0,n.jsx)(i.a,{href:"https://json-ld.org/",children:"JSON-LD spec"})," and ",(0,n.jsx)(i.a,{href:"https://json-ld.org/#developers",children:"tooling"}),"."]}),"\n",(0,n.jsxs)(i.li,{children:["Check the ",(0,n.jsx)(i.a,{href:"https://uncefact.github.io/spec-untp/docs/specification/",children:"UNTP specification"})," for additional requirements."]}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"future-enhancements",children:"Future Enhancements"}),"\n",(0,n.jsxs)(i.p,{children:["Before the UNTP Playground v1.0.0 release, additional test steps will be added to validate service endpoints within the issuer's DID document, as described in the ",(0,n.jsx)(i.a,{href:"https://uncefact.github.io/spec-untp/docs/specification/DigitalIdentityAnchor#via-did-service-endpoint",children:"UNTP specification"}),"."]})]})}function u(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},28453:(e,i,t)=>{t.d(i,{R:()=>a,x:()=>o});var n=t(96540);const s={},r=n.createContext(s);function a(e){const i=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),n.createElement(r.Provider,{value:i},e.children)}}}]);