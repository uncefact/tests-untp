"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[8601],{8481:(e,n,t)=>{t.d(n,{Ay:()=>d,RM:()=>s});var r=t(4848),i=t(8453);const s=[];function a(e){const n={admonition:"admonition",p:"p",...(0,i.R)(),...e.components};return(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:"Please note that this content is under development and is not ready for implementation. This status message will be updated as content development progresses."})})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},2302:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>u,frontMatter:()=>a,metadata:()=>c,toc:()=>o});var r=t(4848),i=t(8453),s=t(8481);const a={sidebar_position:3,title:"v0.6.0"},d=void 0,c={id:"migration-guides/v0.6.0",title:"v0.6.0",description:"Overview",source:"@site/docs/migration-guides/v0.6.0.md",sourceDirName:"migration-guides",slug:"/migration-guides/v0.6.0",permalink:"/tests-untp/docs/next/migration-guides/v0.6.0",draft:!1,unlisted:!1,editUrl:"https://github.com/uncefact/tests-untp/tree/next/documentation/docs/migration-guides/v0.6.0.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"v0.6.0"},sidebar:"tutorialSidebar",previous:{title:"Migration Guides",permalink:"/tests-untp/docs/next/migration-guides/"},next:{title:"Version Mapping",permalink:"/tests-untp/docs/next/version-mapping/"}},l={},o=[...s.RM,{value:"Overview",id:"overview",level:2},{value:"Digital Facility Record (DFR)",id:"digital-facility-record-dfr",level:2},{value:"Summary of Changes",id:"summary-of-changes",level:3},{value:"Data Model Changes",id:"data-model-changes",level:3},{value:"1. JSON-LD Context",id:"1-json-ld-context",level:4},{value:"2. Credential Subject Structure",id:"2-credential-subject-structure",level:4},{value:"3. Issuer Identifier Structure",id:"3-issuer-identifier-structure",level:4},{value:"4. Facility Structure",id:"4-facility-structure",level:4},{value:"Reference Implementation Updates",id:"reference-implementation-updates",level:3},{value:"1. Schema URL Updates",id:"1-schema-url-updates",level:4},{value:"2. Context Configuration in Services",id:"2-context-configuration-in-services",level:4},{value:"3. Form Data Structure Updates",id:"3-form-data-structure-updates",level:4},{value:"4. Render Template Updates",id:"4-render-template-updates",level:4},{value:"5. VCkit Issuer Structure Updates",id:"5-vckit-issuer-structure-updates",level:4}];function p(e){const n={code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Ay,{}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"This guide covers the migration from UNTP (UN Transparency Protocol) version 0.5.0 to 0.6.0 across all supported data models within the Reference Implementation. The update introduces several structural changes and improvements to schema definitions, data validation patterns, and JSON-LD contexts."}),"\n",(0,r.jsx)(n.h2,{id:"digital-facility-record-dfr",children:"Digital Facility Record (DFR)"}),"\n",(0,r.jsx)(n.h3,{id:"summary-of-changes",children:"Summary of Changes"}),"\n",(0,r.jsx)(n.p,{children:"The main changes for Digital Facility Records in UNTP 0.6.0 include:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Enhanced validation patterns"}),": The updated schema validations simplify the extension of UNTP credential types."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Improved identifier structure"}),": Simplified identifier scheme with better organisation and removal of nested ",(0,r.jsx)(n.code,{children:"idScheme"})," references"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Updated JSON-LD contexts"}),": New vocabulary context path structure with improved semantic mappings and vocabulary organisation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Schema refinements"}),": Better property organisation, improved abstraction, and enhanced data model consistency"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"data-model-changes",children:"Data Model Changes"}),"\n",(0,r.jsx)(n.h4,{id:"1-json-ld-context",children:"1. JSON-LD Context"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Before (0.5.0):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'"@context": [\n  "https://www.w3.org/ns/credentials/v2",\n  "https://vocabulary.uncefact.org/untp/dfr/0.5.0/"\n]\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"After (0.6.0):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'"@context": [\n  "https://www.w3.org/ns/credentials/v2",\n  "https://test.uncefact.org/vocabulary/untp/dfr/0.6.0/"\n]\n'})}),"\n",(0,r.jsx)(n.h4,{id:"2-credential-subject-structure",children:"2. Credential Subject Structure"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"credentialSubject"})," property has been restructured from a direct ",(0,r.jsx)(n.code,{children:"Facility"})," reference to a ",(0,r.jsx)(n.code,{children:"FacilityRecord"})," that contains the facility."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example data structure change:"})}),"\n",(0,r.jsx)(n.p,{children:"Before (0.5.0):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "credentialSubject": {\n    "type": ["Facility"],\n    "id": "https://id.gs1.org/414/1321202290648",\n    "name": "Greenacres battery factory",\n    "conformityClaim": [...]\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"After (0.6.0):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "credentialSubject": {\n    "type": ["FacilityRecord"],\n    "facility": {\n      "type": ["Facility"],\n      "id": "https://id.gs1.org/414/1321202290648",\n      "name": "Greenacres battery factory"\n    },\n    "conformityClaim": [...]\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"3-issuer-identifier-structure",children:"3. Issuer Identifier Structure"}),"\n",(0,r.jsxs)(n.p,{children:["The issuer identifier ",(0,r.jsx)(n.code,{children:"otherIdentifier"})," property has been replaced with a new ",(0,r.jsx)(n.code,{children:"issuerAlsoKnownAs"})," property."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example data structure change:"})}),"\n",(0,r.jsx)(n.p,{children:"Before (0.5.0):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "issuer": {\n    "type": ["CredentialIssuer"],\n    "id": "did:web:identifiers.example-company.com:12345",\n    "name": "Example Company Pty Ltd",\n    "otherIdentifier": [\n      {\n        "type": ["Identifier"],\n        "id": "https://abr.business.gov.au/ABN/View?abn=90664869327",\n        "name": "Example Company Pty Ltd.",\n        "registeredId": "90664869327",\n        "idScheme": {\n          "type": ["IdentifierScheme"],\n          "id": "https://abr.business.gov.au/ABN/",\n          "name": "Australian Business Number (ABN)"\n        }\n      }\n    ]\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"After (0.6.0):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "issuer": {\n    "type": ["CredentialIssuer"],\n    "id": "did:web:identifiers.example-company.com:12345",\n    "name": "Example Company Pty Ltd",\n    "issuerAlsoKnownAs": [\n      {\n        "id": "https://abr.business.gov.au/ABN/View?abn=90664869327",\n        "name": "Example Company Pty Ltd.",\n        "registeredId": "90664869327"\n      }\n    ]\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"4-facility-structure",children:"4. Facility Structure"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Key Changes:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"otherIdentifier"})," property replaced with new ",(0,r.jsx)(n.code,{children:"facilityAlsoKnownAs"})," property"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"operatedByParty"})," structure simplified from ",(0,r.jsx)(n.code,{children:"Identifier"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example: facilityAlsoKnownAs structure change"})}),"\n",(0,r.jsx)(n.p,{children:"Before (0.5.0):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "credentialSubject": {\n    "type": ["Facility"],\n    "otherIdentifier": [\n      {\n        "type": ["Identifier"],\n        "id": "https://id.gs1.org/414/1321202290648",\n        "name": "Greenacres battery factory",\n        "registeredId": "1321202290648",\n        "idScheme": {\n          "type": ["IdentifierScheme"],\n          "id": "https://id.gs1.org/414/",\n          "name": "Global Location Number"\n        }\n      }\n    ]\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"After (0.6.0):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "credentialSubject": {\n    "type": ["FacilityRecord"],\n    "facility": {\n      "type": ["Facility"],\n      "facilityAlsoKnownAs": [\n        {\n          "id": "https://id.gs1.org/414/1321202290648",\n          "name": "Greenacres battery factory",\n          "registeredId": "1321202290648"\n        }\n      ]\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example: operatedByParty structure change"})}),"\n",(0,r.jsx)(n.p,{children:"Before (0.5.0):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "credentialSubject": {\n    "type": ["Facility"],\n    "operatedByParty": {\n      "type": ["Identifier"],\n      "id": "https://abr.business.gov.au/ABN/View?abn=90664869327",\n      "name": "Example Company Pty Ltd.",\n      "registeredId": "90664869327",\n      "idScheme": {\n        "type": ["IdentifierScheme"],\n        "id": "https://abr.business.gov.au/ABN/",\n        "name": "Australian Business Number (ABN)"\n      }\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"After (0.6.0):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "credentialSubject": {\n    "type": ["FacilityRecord"],\n    "facility": {\n      "type": ["Facility"],\n      "operatedByParty": {\n        "id": "https://abr.business.gov.au/ABN/View?abn=90664869327",\n        "name": "Example Company Pty Ltd.",\n        "registeredId": "90664869327"\n      }\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"reference-implementation-updates",children:"Reference Implementation Updates"}),"\n",(0,r.jsx)(n.h4,{id:"1-schema-url-updates",children:"1. Schema URL Updates"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Before (0.5.0):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'"schema": {\n  "url": "https://jargon.sh/user/unece/DigitalFacilityRecord/v/working/artefacts/jsonSchemas/FacilityRecord.json"\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"After (0.6.0):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'"schema": {\n  "url": "https://jargon.sh/user/unece/DigitalFacilityRecord/v/0.6.0/artefacts/jsonSchemas/FacilityRecord.json?class=FacilityRecord"\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"2-context-configuration-in-services",children:"2. Context Configuration in Services"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Before (0.5.0):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'"digitalFacilityRecord": {\n  "context": ["https://test.uncefact.org/vocabulary/untp/dfr/0.5.0/"]\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"After (0.6.0):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'"digitalFacilityRecord": {\n  "context": ["https://test.uncefact.org/vocabulary/untp/dfr/0.6.0/"]\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"3-form-data-structure-updates",children:"3. Form Data Structure Updates"}),"\n",(0,r.jsx)(n.p,{children:"If you're passing pre-populated data into the JsonForm component, update the data structure to conform to the new FacilityRecord schema:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Before (0.5.0):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'"data": {\n  "type": ["Facility"],\n  "id": "https://id.gs1.org/414/1321202290648",\n  "name": "Greenacres battery factory",\n  "operatedByParty": {\n    "type": ["Identifier"],\n    "id": "https://abr.business.gov.au/ABN/View?abn=90664869327",\n    "name": "Example Company Pty Ltd.",\n    "registeredId": "90664869327",\n    "idScheme": {\n      "type": ["IdentifierScheme"],\n      "id": "https://abr.business.gov.au/ABN/",\n      "name": "Australian Business Number (ABN)"\n    }\n  },\n  "conformityClaim": [...]\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"After (0.6.0):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'"data": {\n  "type": ["FacilityRecord"],\n  "facility": {\n    "type": ["Facility"],\n    "id": "https://id.gs1.org/414/1321202290648",\n    "name": "Greenacres battery factory",\n    "operatedByParty": {\n      "id": "https://abr.business.gov.au/ABN/View?abn=90664869327",\n      "name": "Example Company Pty Ltd.",\n      "registeredId": "90664869327"\n    }\n  },\n  "conformityClaim": [...]\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"4-render-template-updates",children:"4. Render Template Updates"}),"\n",(0,r.jsx)(n.p,{children:"Update the render template to use the new 0.6.0 compliant template. The updated template can be found at:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"packages/mock-app/src/templates/v0.6.0/digital_facility_record/template.hbs\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example template configuration update:"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Before (0.5.0):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'"renderTemplate": [\n  {\n    "type": "WebRenderingTemplate2022",\n    "template": "{v0.5.0-template}..."\n  }\n]\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"After (0.6.0):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'"renderTemplate": [\n  {\n    "type": "WebRenderingTemplate2022",\n    "template": "{v0.6.0-template}..."\n  }\n]\n'})}),"\n",(0,r.jsx)(n.h4,{id:"5-vckit-issuer-structure-updates",children:"5. VCkit Issuer Structure Updates"}),"\n",(0,r.jsx)(n.p,{children:"Update the VCkit issuer configuration to use the new identifier structure:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Before (0.5.0):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'"vckit": {\n  "vckitAPIUrl": "http://localhost:3332/v2",\n  "issuer": {\n    "type": ["CredentialIssuer"],\n    "id": "did:web:uncefact.github.io:project-vckit:test-and-development",\n    "name": "Example Company Pty Ltd",\n    "otherIdentifier": [\n      {\n        "type": ["Identifier"],\n        "id": "https://abr.business.gov.au/ABN/View?abn=90664869327",\n        "name": "Example Company Pty Ltd.",\n        "registeredId": "90664869327",\n        "idScheme": {\n          "type": ["IdentifierScheme"],\n          "id": "https://abr.business.gov.au/ABN/",\n          "name": "Australian Business Number (ABN)"\n        }\n      }\n    ]\n  },\n  "headers": {...}\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"After (0.6.0):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'"vckit": {\n  "vckitAPIUrl": "http://localhost:3332/v2",\n  "issuer": {\n    "type": ["CredentialIssuer"],\n    "id": "did:web:uncefact.github.io:project-vckit:test-and-development",\n    "name": "Example Company Pty Ltd",\n    "issuerAlsoKnownAs": [\n      {\n        "id": "https://abr.business.gov.au/ABN/View?abn=90664869327",\n        "name": "Example Company Pty Ltd.",\n        "registeredId": "90664869327"\n      }\n    ]\n  },\n  "headers": {...}\n}\n'})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>d});var r=t(6540);const i={},s=r.createContext(i);function a(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);