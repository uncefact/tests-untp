<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-mock-apps/dependent-services/identity-resolution-service" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Identity Resolver Service | UN Transparency Protocol</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://uncefact.github.io/tests-untp/docs/next/mock-apps/dependent-services/identity-resolution-service"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Identity Resolver Service | UN Transparency Protocol"><meta data-rh="true" name="description" content="The Identity Resolver Service (IDR) is a critical component of the United Nations Transparency Protocol (UNTP) ecosystem. It serves as a bridge between the identifiers of things (e.g., products, entities, transactions) and additional information about those things. You can learn more about Identity Resolver Services here."><meta data-rh="true" property="og:description" content="The Identity Resolver Service (IDR) is a critical component of the United Nations Transparency Protocol (UNTP) ecosystem. It serves as a bridge between the identifiers of things (e.g., products, entities, transactions) and additional information about those things. You can learn more about Identity Resolver Services here."><link data-rh="true" rel="icon" href="/tests-untp/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://uncefact.github.io/tests-untp/docs/next/mock-apps/dependent-services/identity-resolution-service"><link data-rh="true" rel="alternate" href="https://uncefact.github.io/tests-untp/docs/next/mock-apps/dependent-services/identity-resolution-service" hreflang="en"><link data-rh="true" rel="alternate" href="https://uncefact.github.io/tests-untp/docs/next/mock-apps/dependent-services/identity-resolution-service" hreflang="x-default"><link rel="stylesheet" href="/tests-untp/assets/css/styles.8d4ca446.css">
<script src="/tests-untp/assets/js/runtime~main.2af0b666.js" defer="defer"></script>
<script src="/tests-untp/assets/js/main.eb076177.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/tests-untp/"><div class="navbar__logo"><img src="/tests-untp/img/logo.svg" alt="UNTP Test Suite Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/tests-untp/img/logo.svg" alt="UNTP Test Suite Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">TP</b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/tests-untp/docs/next/introduction/">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/tests-untp/docs/next/mock-apps/dependent-services/identity-resolution-service">Next</a></li><li><a class="dropdown__link" href="/tests-untp/docs/mock-apps/dependent-services/identity-resolution-service">0.2.0</a></li><li><a class="dropdown__link" href="/tests-untp/docs/0.1.0/mock-apps/dependent-services/identity-resolution-service">0.1.0</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/tests-untp/docs/introduction">Introduction</a><a class="navbar__item navbar__link" href="/tests-untp/docs/mock-apps/">Getting started</a><a class="navbar__item navbar__link" href="/tests-untp/docs/mock-apps/">Tools and support</a><a href="https://uncefact.github.io/spec-untp/docs/extensions/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Extensions</a><a href="https://github.com/uncefact/tests-untp" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Contribute</a><a href="https://join.slack.com/t/uncefact/shared_invite/zt-1d7hd0js1-sS1Xgk8DawQD9VgRvy1QHQ" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-slack-link"><svg class="icon icon-slack"><use xlink:href="#slack"></use></svg><span class="menu-item-name">Slack</span></a><a href="https://github.com/uncefact/tests-untp" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-github-link"><svg class="icon"><use xlink:href="#github"></use></svg><span class="menu-item-name">Github</span></a><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tests-untp/docs/next/introduction/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/tests-untp/docs/next/mock-apps/">Mock Apps</a><button aria-label="Collapse sidebar category &#x27;Mock Apps&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tests-untp/docs/next/mock-apps/getting-started">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tests-untp/docs/next/mock-apps/installation">Installation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/tests-untp/docs/next/mock-apps/dependent-services/">Dependent Services</a><button aria-label="Collapse sidebar category &#x27;Dependent Services&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/tests-untp/docs/next/mock-apps/dependent-services/verifiable-credential-service">Verifiable Credential Service</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/tests-untp/docs/next/mock-apps/dependent-services/storage-service">Storage Service</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/tests-untp/docs/next/mock-apps/dependent-services/identity-resolution-service">Identity Resolver Service</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/tests-untp/docs/next/mock-apps/configuration/">Configuration</a><button aria-label="Expand sidebar category &#x27;Configuration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/tests-untp/docs/next/mock-apps/components/">Components</a><button aria-label="Expand sidebar category &#x27;Components&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/tests-untp/docs/next/mock-apps/services/">Services</a><button aria-label="Expand sidebar category &#x27;Services&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/tests-untp/docs/next/mock-apps/common/">Common</a><button aria-label="Expand sidebar category &#x27;Common&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tests-untp/docs/next/mock-apps/scanning-app">Scanning App</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tests-untp/docs/next/mock-apps/verify-app">Verify App</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tests-untp/docs/next/mock-apps/conformity-credential">Conformity Credential</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/tests-untp/docs/next/test-suites/">Test Suites</a><button aria-label="Expand sidebar category &#x27;Test Suites&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/tests-untp/docs/next/migration-guides/">Migration Guides</a><button aria-label="Expand sidebar category &#x27;Migration Guides&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tests-untp/docs/next/version-mapping/">Version Mapping</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->UN Transparency Protocol<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/tests-untp/docs/mock-apps/dependent-services/identity-resolution-service">latest version</a></b> (<!-- -->0.2.0<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/tests-untp/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/tests-untp/docs/next/mock-apps/"><span itemprop="name">Mock Apps</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/tests-untp/docs/next/mock-apps/dependent-services/"><span itemprop="name">Dependent Services</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Identity Resolver Service</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Identity Resolver Service</h1></header><div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Please note that this content is under development and is not ready for implementation. This status message will be updated as content development progresses.</p></div></div>
<p>The Identity Resolver Service (IDR) is a critical component of the United Nations Transparency Protocol (UNTP) ecosystem. It serves as a bridge between the <a href="https://uncefact.github.io/spec-untp/docs/specification/Identifiers" target="_blank" rel="noopener noreferrer">identifiers of things (e.g., products, entities, transactions)</a> and additional information about those things. You can learn more about Identity Resolver Services <a href="https://uncefact.github.io/spec-untp/docs/specification/IdentityResolver" target="_blank" rel="noopener noreferrer">here</a>.</p>
<p>Key functions of the Identity Resolver Service include:</p>
<ul>
<li>Registering links of created credentials using the primary identifier of the product as the key.</li>
<li>Enabling downstream value chain actors to discover more information about products they have purchased or are considering purchasing.</li>
<li>Facilitating the connection between unique identifiers and more information about the product (e.g. <a href="https://uncefact.github.io/spec-untp/docs/specification/DigitalProductPassport" target="_blank" rel="noopener noreferrer">Digital Product Passports</a>, <a href="https://uncefact.github.io/spec-untp/docs/specification/DigitalTraceabilityEvents" target="_blank" rel="noopener noreferrer">Traceability Events</a> and <a href="https://uncefact.github.io/spec-untp/docs/specification/ConformityCredential" target="_blank" rel="noopener noreferrer">Conformity Credentials</a>).
For the Mock Apps, we currently recommend and will be using the <a href="https://github.com/pyx-industries/pyx-identity-resolver/tree/v0.0.1" target="_blank" rel="noopener noreferrer">Pyx Identity Resolver v0.0.1</a>.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="identity-resolver-service-documentation">Identity Resolver Service Documentation<a class="hash-link" aria-label="Direct link to Identity Resolver Service Documentation" title="Direct link to Identity Resolver Service Documentation" href="/tests-untp/docs/next/mock-apps/dependent-services/identity-resolution-service#identity-resolver-service-documentation">​</a></h3>
<p>Please go through the Pyx Identity Resolver documentation available <a href="https://github.com/pyx-industries/pyx-identity-resolver/blob/v0.0.1/app/README.md" target="_blank" rel="noopener noreferrer">here</a> to understand how to set up and use the Identity Resolver Service.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="overview-of-link-resolution-services">Overview of Link Resolution Services<a class="hash-link" aria-label="Direct link to Overview of Link Resolution Services" title="Direct link to Overview of Link Resolution Services" href="/tests-untp/docs/next/mock-apps/dependent-services/identity-resolution-service#overview-of-link-resolution-services">​</a></h3>
<p>The app uses two instances of the Identity Resolver (IDR) service:</p>
<ol>
<li>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="mock-gs1-service">Mock GS1 Service:<a class="hash-link" aria-label="Direct link to Mock GS1 Service:" title="Direct link to Mock GS1 Service:" href="/tests-untp/docs/next/mock-apps/dependent-services/identity-resolution-service#mock-gs1-service">​</a></h4>
<p>This instance is only used by the app’s scanning feature. It simulates a GS1 resolver, providing initial information for barcodes with primary identifiers (e.g., GTIN), including qualifiers, and returns a linkset with a URL to the primary IDR.</p>
</li>
<li>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="primary-idr-service">Primary IDR Service:<a class="hash-link" aria-label="Direct link to Primary IDR Service:" title="Direct link to Primary IDR Service:" href="/tests-untp/docs/next/mock-apps/dependent-services/identity-resolution-service#primary-idr-service">​</a></h4>
<p>This main resolver is used across the app and stores all sample identifiers and link resolvers. It supports standalone operations and works alongside the mock GS1 service in the scanning feature. The primary IDR also allows the app to register new link resolvers, such as those needed for Traceability Events.</p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="development-flexibility">Development Flexibility<a class="hash-link" aria-label="Direct link to Development Flexibility" title="Direct link to Development Flexibility" href="/tests-untp/docs/next/mock-apps/dependent-services/identity-resolution-service#development-flexibility">​</a></h3>
<p>The IDR service enables:</p>
<ol>
<li>Pre-configured testing identifiers and link-resolvers: Simplifies setup in development.</li>
<li>Seamless containerized deployment: Ensures consistent behaviour across environments.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="requirements">Requirements<a class="hash-link" aria-label="Direct link to Requirements" title="Direct link to Requirements" href="/tests-untp/docs/next/mock-apps/dependent-services/identity-resolution-service#requirements">​</a></h3>
<p>To use the Identity Resolver Service with the mock apps, you will need:</p>
<ol>
<li>The Identity Resolver Service API running.</li>
<li>The address of the Identity Resolver Service API (e.g., <a href="http://localhost:8080" target="_blank" rel="noopener noreferrer">http://localhost:8080</a>).</li>
<li>The API key of the Identity Resolver Service API (if applicable)</li>
</ol>
<p>Make sure you have the Identity Resolver Service API set up and running, and note its address and API key (if applicable) before proceeding with the mock app configuration.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="seed-script">Seed Script<a class="hash-link" aria-label="Direct link to Seed Script" title="Direct link to Seed Script" href="/tests-untp/docs/next/mock-apps/dependent-services/identity-resolution-service#seed-script">​</a></h3>
<p>The seed script is essential for initialising the Identity Resolver (IDR) services by loading pre-configured identifiers and link-resolvers. These identifiers allow the app to register link-resolvers with the correct mapping, ensuring it functions as expected.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="script-overview">Script Overview<a class="hash-link" aria-label="Direct link to Script Overview" title="Direct link to Script Overview" href="/tests-untp/docs/next/mock-apps/dependent-services/identity-resolution-service#script-overview">​</a></h4>
<p>The script:</p>
<ol>
<li><strong>Checks the health status</strong> of the IDR service to confirm it&#x27;s ready to accept requests.</li>
<li><strong>Attempts multiple retries</strong> to accommodate any startup delays.</li>
<li><strong>Seeds data</strong> to the IDR service using identifiers and link-resolvers stored in the <code>/seeding</code> folder in the root directory.</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" href="/tests-untp/docs/next/mock-apps/dependent-services/identity-resolution-service#prerequisites">​</a></h4>
<p>The seed script can be run in two ways: directly from the host machine (using <code>export</code> to set environment variables) or inside a Docker container (<code>docker-compose</code> with environment variables specified under the <code>seeding-data</code> service).</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="option-1-running-the-seed-script-locally">Option 1: Running the Seed Script Locally<a class="hash-link" aria-label="Direct link to Option 1: Running the Seed Script Locally" title="Direct link to Option 1: Running the Seed Script Locally" href="/tests-untp/docs/next/mock-apps/dependent-services/identity-resolution-service#option-1-running-the-seed-script-locally">​</a></h4>
<p>If you are running the seed script directly on your host machine, set the necessary environment variables by exporting them in your shell:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Identity Resolver (IDR) Service Configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export IDR_SERVICE_HOST=localhost # IDR service host</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export IDR_SERVICE_API_VERSION=1.0.0 # IDR API version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export IDR_SERVICE_PORT=3000 # IDR service port</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export IDR_SERVICE_API_KEY=test123 # IDR service API key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export IDR_SERVICE_DOMAIN=http://localhost:3000 # IDR service domain</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Mock GS1 Service Configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export MOCK_GS1_SERVICE_HOST=localhost # Mock GS1 service host</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export MOCK_GS1_SERVICE_API_VERSION=1.0.0 # Mock GS1 service API version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export MOCK_GS1_SERVICE_PORT=3001 # Mock GS1 service port</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export MOCK_GS1_SERVICE_API_KEY=test456 # Mock GS1 service API key</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>After setting these variables, run the seed scripts:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Run the IDR service seeding script</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./seeding-idr-data.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Run the mock GS1 service seeding script</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./seeding-mock-gs1-data.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="option-2-running-the-seed-script-in-docker-compose">Option 2: Running the Seed Script in Docker Compose<a class="hash-link" aria-label="Direct link to Option 2: Running the Seed Script in Docker Compose" title="Direct link to Option 2: Running the Seed Script in Docker Compose" href="/tests-untp/docs/next/mock-apps/dependent-services/identity-resolution-service#option-2-running-the-seed-script-in-docker-compose">​</a></h4>
<p>If you’re running the script as part of a Docker Compose setup, specify the environment variables under the seeding-data service. This example assumes the following docker-compose.yml setup:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">services:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  seeding-data:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    image: alpine:3.20.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    environment:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      # IDR service environment variables</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - IDR_SERVICE_HOST=identity-resolver-service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - IDR_SERVICE_API_VERSION=1.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - IDR_SERVICE_PORT=3000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - IDR_SERVICE_API_KEY=test123</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - IDR_SERVICE_DOMAIN=http://localhost:3000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      # Mock GS1 service environment variables</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - MOCK_GS1_SERVICE_HOST=mock-global-gs1-resolver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - MOCK_GS1_SERVICE_API_VERSION=1.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - MOCK_GS1_SERVICE_PORT=3001</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - MOCK_GS1_SERVICE_API_KEY=test456</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Once this configuration is in place, start the container to automatically run the seed scripts with the environment variables already configured:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SEEDING=true docker-compose up -d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the next section, we will explore the mock app configuration file and how to customise it for your specific use case.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/uncefact/tests-untp/tree/next/documentation/docs/mock-apps/dependent-services/identity-resolution-service.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/tests-untp/docs/next/mock-apps/dependent-services/storage-service"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Storage Service</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/tests-untp/docs/next/mock-apps/configuration/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Configuration</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/tests-untp/docs/next/mock-apps/dependent-services/identity-resolution-service#identity-resolver-service-documentation">Identity Resolver Service Documentation</a></li><li><a class="table-of-contents__link toc-highlight" href="/tests-untp/docs/next/mock-apps/dependent-services/identity-resolution-service#overview-of-link-resolution-services">Overview of Link Resolution Services</a></li><li><a class="table-of-contents__link toc-highlight" href="/tests-untp/docs/next/mock-apps/dependent-services/identity-resolution-service#development-flexibility">Development Flexibility</a></li><li><a class="table-of-contents__link toc-highlight" href="/tests-untp/docs/next/mock-apps/dependent-services/identity-resolution-service#requirements">Requirements</a></li><li><a class="table-of-contents__link toc-highlight" href="/tests-untp/docs/next/mock-apps/dependent-services/identity-resolution-service#seed-script">Seed Script</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/tests-untp/docs/introduction">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/tests-untp/docs/mock-apps/">Getting Started</a></li></ul></div><div class="col footer__col"><div class="footer__title">Test Suites and Tools</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/tests-untp/docs/mock-apps/">Mock Apps</a></li><li class="footer__item"><a class="footer__link-item" href="/tests-untp/docs/mock-apps/">Technical Interoperability</a></li><li class="footer__item"><a class="footer__link-item" href="/tests-untp/docs/mock-apps/">Semantic Interoperability</a></li><li class="footer__item"><a class="footer__link-item" href="/tests-untp/docs/mock-apps/">Graph Validation</a></li></ul></div><div class="col footer__col"><div class="footer__title">UN Transparency Protocol</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://uncefact.github.io/spec-untp/" target="_blank" rel="noopener noreferrer" class="footer__link-item">UNTP Specification<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://join.slack.com/t/uncefact/shared_invite/zt-1d7hd0js1-sS1Xgk8DawQD9VgRvy1QHQ" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack Channel<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/uncefact/tests-untp" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© United Nations Economic Commission for Europe</div></div></div></footer><svg width="0" height="0" class="hidden"><symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="github"><path d="M12.04 0a12.035 12.035 0 0 0-3.731 23.479h.28c.257.012.508-.074.703-.241.237-.207.37-.508.36-.822v-1.304a.491.491 0 0 0-.19-.331.501.501 0 0 0-.41-.1c-2.699.581-3.27-1.104-3.3-1.214a4.654 4.654 0 0 0-1.736-2.197l-.15-.11a.732.732 0 0 1 .381-.07c.508.076.94.41 1.143.883a3.009 3.009 0 0 0 4.012 1.163c.151-.067.262-.2.301-.361.04-.46.24-.893.562-1.224a.501.501 0 0 0 .15-.531.491.491 0 0 0-.421-.351c-2.377-.271-4.814-1.103-4.814-5.205a4.012 4.012 0 0 1 1.063-2.789.491.491 0 0 0 .09-.521 3.57 3.57 0 0 1 .01-2.417A5.586 5.586 0 0 1 8.871 6.89c.123.085.279.107.42.06.897-.239 1.821-.36 2.749-.36a10.34 10.34 0 0 1 2.758.36.461.461 0 0 0 .411-.06c.731-.593 1.6-.99 2.527-1.153a3.55 3.55 0 0 1 0 2.387.481.481 0 0 0 .1.521 4.012 4.012 0 0 1 1.054 2.758c0 4.112-2.437 4.935-4.824 5.196a.491.491 0 0 0-.421.35c-.06.189 0 .394.15.522.449.469.672 1.11.612 1.755v3.19c-.005.315.131.616.37.822.304.23.7.302 1.064.19A12.035 12.035 0 0 0 12.04 0Z"></path></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 33.057 33.057" id="search"><g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-width="1.5"><path d="M21.723 7.934a9.75 9.721-45 0 1-.02 13.769 9.75 9.721-45 0 1-13.769.02 9.75 9.721-45 0 1 .021-13.768 9.75 9.721-45 0 1 13.768-.02z"></path><path d="M10.481 20.942V25" transform="rotate(-45 17.925 7.425)"></path></g></symbol><symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="slack"><g fill-rule="nonzero"><path d="M22.17 16.701h-7.34c-1.01 0-1.83-.815-1.83-1.82 0-1.005.82-1.82 1.83-1.82h7.34c1.01 0 1.83.815 1.83 1.82 0 1.005-.82 1.82-1.83 1.82ZM14.83 11.073c-1.01 0-1.83-.815-1.83-1.82V1.954c-.05-.68.286-1.332.871-1.687a1.839 1.839 0 0 1 1.908 0c.585.355.922 1.007.871 1.687v7.3a1.825 1.825 0 0 1-1.82 1.819ZM9.17 11.073H1.83c-1.01 0-1.83-.815-1.83-1.82 0-1.005.82-1.82 1.83-1.82h7.34c1.01 0 1.83.815 1.83 1.82 0 1.005-.82 1.82-1.83 1.82ZM9.17 24c-1.01 0-1.83-.815-1.83-1.82v-7.299c-.05-.68.286-1.332.871-1.687a1.839 1.839 0 0 1 1.908 0c.585.355.922 1.007.871 1.687v7.3A1.825 1.825 0 0 1 9.17 24ZM2.22 17.517A2.214 2.214 0 0 1 0 15.319a2.264 2.264 0 0 1 2.27-2.257h1.48c.405.005.73.333.73.735v1.472a2.254 2.254 0 0 1-2.26 2.248ZM10.27 4.59H8.78a2.254 2.254 0 0 1-2.26-2.248c-.003-.586.23-1.15.647-1.564A2.216 2.216 0 0 1 8.74.134 2.264 2.264 0 0 1 11 2.392v1.471c0 .401-.327.726-.73.726ZM15.26 24A2.264 2.264 0 0 1 13 21.743V20.27c0-.4.327-.726.73-.726h1.49a2.254 2.254 0 0 1 2.26 2.247c.003.587-.23 1.15-.647 1.564A2.216 2.216 0 0 1 15.26 24ZM21.73 11.073h-1.48a.738.738 0 0 1-.73-.736V8.865a2.254 2.254 0 0 1 2.26-2.247c1.222 0 2.214.982 2.22 2.198a2.264 2.264 0 0 1-2.27 2.257Z"></path></g></symbol></svg></div>
</body>
</html>